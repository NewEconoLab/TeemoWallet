var CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;return a&&c.mixIn(a),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},r=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;if(a=a.sigBytes,this.clamp(),j%4)for(var k=0;k<a;k++)c[j+k>>>2]|=(e[k>>>2]>>>24-k%4*8&255)<<24-(j+k)%4*8;else if(65535<e.length)for(k=0;k<a;k+=4)c[j+k>>>2]=e[k>>>2];else c.push.apply(c,e);return this.sigBytes+=a,this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-c%4*8,a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);return a.words=this.words.slice(0),a},random:function(a){for(var c=[],e=0;e<a;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++){var k=c[j>>>2]>>>24-j%4*8&255;e.push((k>>>4).toString(16)),e.push((15&k).toString(16))}return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j+=2)e[j>>>3]|=parseInt(a.substr(j,2),16)<<24-j%8*4;return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j<a;j++)e.push(String.fromCharCode(c[j>>>2]>>>24-j%4*8&255));return e.join("")},parse:function(a){for(var c=a.length,e=[],j=0;j<c;j++)e[j>>>2]|=(255&a.charCodeAt(j))<<24-j%4*8;return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error("Malformed UTF-8 data")}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},q=l.BufferedBlockAlgorithm=t.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=x.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b;if(a=(b=a?u.ceil(b):u.max((0|b)-this._minBufferSize,0))*k,j=u.min(4*a,j),a){for(var q=0;q<a;q+=k)this._doProcessBlock(e,q);q=e.splice(0,a),c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){q.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return new a.init(e).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return new n.HMAC.init(a,e).finalize(b)}}});var n=d.algo={};return d}(Math);!function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp(),d=[];for(var r=0;r<p;r+=3)for(var w=(l[r>>>2]>>>24-r%4*8&255)<<16|(l[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|l[r+2>>>2]>>>24-(r+2)%4*8&255,v=0;4>v&&r+.75*v<p;v++)d.push(t.charAt(w>>>6*(3-v)&63));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join("")},parse:function(d){var l=d.length,s=this._map,t;(t=s.charAt(64))&&(-1!=(t=d.indexOf(t))&&(l=t));for(var t=[],r=0,w=0;w<l;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))<<w%4*2,b=s.indexOf(d.charAt(w))>>>6-w%4*2;t[r>>>2]|=(v|b)<<24-r%4*8,r++}return p.create(t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(u){function p(b,n,a,c,e,j,k){return((b=b+(n&a|~n&c)+e+k)<<j|b>>>32-j)+n}function d(b,n,a,c,e,j,k){return((b=b+(n&c|a&~c)+e+k)<<j|b>>>32-j)+n}function l(b,n,a,c,e,j,k){return((b=b+(n^a^c)+e+k)<<j|b>>>32-j)+n}function s(b,n,a,c,e,j,k){return((b=b+(a^(n|~c))+e+k)<<j|b>>>32-j)+n}for(var t=CryptoJS,r,w=(r=t.lib).WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64>x;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,n){for(var a=0;16>a;a++){var c,e=q[c=n+a];q[c]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f,m,g,h,f=p(f=a[0],m=a[1],g=a[2],h=a[3],c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),f=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m,f=d(f,m=p(m,g,h,f,x,22,b[15]),g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,m,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m,f=l(f,m=d(m,g,h,f,u,20,b[31]),g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m,f=s(f,m=l(m,g,h,f,j,23,b[47]),g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,E,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0,a[1]=a[1]+m|0,a[2]=a[2]+g|0,a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c>>>5]|=128<<24-c%32;var e=u.floor(a/4294967296);for(n[15+(c+64>>>9<<4)]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),n[14+(c+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),b.sigBytes=4*(n.length+1),this._process(),n=(b=this._hash).words,a=0;4>a;a++)c=n[a],n[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8);return b},clone:function(){var b=v.clone.call(this);return b._hash=this._hash.clone(),b}}),t.MD5=v._createHelper(r),t.HmacMD5=v._createHmacHelper(r)}(Math),function(){var u=CryptoJS,p,d=(p=u.lib).Base,l=p.WordArray,p,s=(p=u.algo).EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p,s=(p=this.cfg).hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length<q;){n&&s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a<p;a++)n=s.finalize(n),s.reset();b.concat(n)}return b.sigBytes=4*q,b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,l)}}(),CryptoJS.lib.Cipher||function(u){var p,d=(p=CryptoJS).lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b),this._xformMode=e,this._key=a,this.reset()},reset:function(){t.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return("string"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return("string"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d<b;d++)e[a+d]^=c[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e,this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c),b.encryptBlock(e,a),this._prevBlock=e.slice(a,a+c)}}),q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a),x.call(this,e,a,c),this._prevBlock=d}}),b=b.CBC=q,q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c,c,d=(c=(c=4*b)-a.sigBytes%c)<<24|c<<16|c<<8|c,l=[],n=0;n<c;n+=4)l.push(d);c=s.create(l,c),a.concat(c)},unpad:function(a){a.sigBytes-=255&a.words[a.sigBytes-1>>>2]}},d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a,b=(a=this.cfg).iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;return((a=a.salt)?s.create([1398893684,1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){var b=(a=r.parse(a)).words;if(1398893684==b[0]&&1701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4),a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);return b=l.finalize(b),l=l.cfg,n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){return d||(d=s.random(8)),a=w.create({keySize:b+c}).compute(a,d),c=s.create(a.words.slice(b),4*c),a.sigBytes=4*b,n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){return d=(l=this.cfg.extend(l)).kdf.execute(d,b.keySize,b.ivSize),l.iv=d.iv,(b=a.encrypt.call(this,b,c,d.key,l)).mixIn(d),b},decrypt:function(b,c,d,l){return l=this.cfg.extend(l),c=this._parse(c,l.format),d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt),l.iv=d.iv,a.decrypt.call(this,b,c,d.key,l)}})}(),function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256>c;c++)a[c]=128>c?c<<1:c<<1^283;for(var e=0,j=0,c=0;256>c;c++){var k,k=(k=j^j<<1^j<<2^j<<3^j<<4)>>>8^255&k^99;l[e]=k,s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y<<24|y>>>8,r[e]=y<<16|y>>>16,w[e]=y<<8|y>>>24,v[e]=y,y=16843009*G^65537*F^257*z^16843008*e,b[k]=y<<24|y>>>8,x[k]=y<<16|y>>>16,q[k]=y<<8|y>>>24,n[k]=y,e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a,c=(a=this._key).words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j<a;j++)if(j<d)e[j]=c[j];else{var k=e[j-1];j%d?6<d&&4==j%d&&(k=l[k>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[255&k]):(k=l[(k=k<<8|k>>>24)>>>24]<<24|l[k>>>16&255]<<16|l[k>>>8&255]<<8|l[255&k],k^=H[j/d|0]<<24),e[j]=e[j-d]^k}for(c=this._invKeySchedule=[],d=0;d<a;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4>d||4>=j?k:b[l[k>>>24]]^x[l[k>>>16&255]]^q[l[k>>>8&255]]^n[l[255&k]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3],a[c+3]=d,this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s),d=a[c+1],a[c+1]=a[c+3],a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r<m;r++)var q=d[g>>>24]^e[h>>>16&255]^j[k>>>8&255]^l[255&n]^c[p++],s=d[h>>>24]^e[k>>>16&255]^j[n>>>8&255]^l[255&g]^c[p++],t=d[k>>>24]^e[n>>>16&255]^j[g>>>8&255]^l[255&h]^c[p++],n=d[n>>>24]^e[g>>>16&255]^j[h>>>8&255]^l[255&k]^c[p++],g=q,h=s,k=t;q=(f[g>>>24]<<24|f[h>>>16&255]<<16|f[k>>>8&255]<<8|f[255&n])^c[p++],s=(f[h>>>24]<<24|f[k>>>16&255]<<16|f[n>>>8&255]<<8|f[255&g])^c[p++],t=(f[k>>>24]<<24|f[n>>>16&255]<<16|f[g>>>8&255]<<8|f[255&h])^c[p++],n=(f[n>>>24]<<24|f[g>>>16&255]<<16|f[h>>>8&255]<<8|f[255&k])^c[p++],a[b]=q,a[b+1]=s,a[b+2]=t,a[b+3]=n},keySize:8});u.AES=p._createHelper(d)}(),function(){var C=CryptoJS,C_lib,BlockCipher=C.lib.BlockCipher,C_algo=C.algo,SBOX=[],INV_SBOX=[],SUB_MIX_0=[],SUB_MIX_1=[],SUB_MIX_2=[],SUB_MIX_3=[],INV_SUB_MIX_0=[],INV_SUB_MIX_1=[],INV_SUB_MIX_2=[],INV_SUB_MIX_3=[];!function(){for(var d=[],i=0;i<256;i++)d[i]=i<128?i<<1:i<<1^283;for(var x=0,xi=0,i=0;i<256;i++){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^255&sx^99,SBOX[x]=sx,INV_SBOX[sx]=x;var x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx;SUB_MIX_0[x]=t<<24|t>>>8,SUB_MIX_1[x]=t<<16|t>>>16,SUB_MIX_2[x]=t<<8|t>>>24,SUB_MIX_3[x]=t;var t=16843009*x8^65537*x4^257*x2^16843008*x;INV_SUB_MIX_0[sx]=t<<24|t>>>8,INV_SUB_MIX_1[sx]=t<<16|t>>>16,INV_SUB_MIX_2[sx]=t<<8|t>>>24,INV_SUB_MIX_3[sx]=t,x?(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]):x=xi=1}}();var RCON=[0,1,2,4,8,16,32,64,128,27,54],AES=C_algo.AES=BlockCipher.extend({_doReset:function(){for(var key=this._key,keyWords=key.words,keySize=key.sigBytes/4,nRounds,ksRows=4*((this._nRounds=keySize+6)+1),keySchedule=this._keySchedule=[],ksRow=0;ksRow<ksRows;ksRow++)if(ksRow<keySize)keySchedule[ksRow]=keyWords[ksRow];else{var t=keySchedule[ksRow-1];ksRow%keySize?keySize>6&&ksRow%keySize==4&&(t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[255&t]):(t=SBOX[(t=t<<8|t>>>24)>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[255&t],t^=RCON[ksRow/keySize|0]<<24),keySchedule[ksRow]=keySchedule[ksRow-keySize]^t}for(var invKeySchedule=this._invKeySchedule=[],invKsRow=0;invKsRow<ksRows;invKsRow++){var ksRow=ksRows-invKsRow;if(invKsRow%4)var t=keySchedule[ksRow];else var t=keySchedule[ksRow-4];invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:INV_SUB_MIX_0[SBOX[t>>>24]]^INV_SUB_MIX_1[SBOX[t>>>16&255]]^INV_SUB_MIX_2[SBOX[t>>>8&255]]^INV_SUB_MIX_3[SBOX[255&t]]}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX)},decryptBlock:function(M,offset){var t=M[offset+1];M[offset+1]=M[offset+3],M[offset+3]=t,this._doCryptBlock(M,offset,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX);var t=M[offset+1];M[offset+1]=M[offset+3],M[offset+3]=t},_doCryptBlock:function(M,offset,keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX){for(var nRounds=this._nRounds,s0=M[offset]^keySchedule[0],s1=M[offset+1]^keySchedule[1],s2=M[offset+2]^keySchedule[2],s3=M[offset+3]^keySchedule[3],ksRow=4,round=1;round<nRounds;round++){var t0=SUB_MIX_0[s0>>>24]^SUB_MIX_1[s1>>>16&255]^SUB_MIX_2[s2>>>8&255]^SUB_MIX_3[255&s3]^keySchedule[ksRow++],t1=SUB_MIX_0[s1>>>24]^SUB_MIX_1[s2>>>16&255]^SUB_MIX_2[s3>>>8&255]^SUB_MIX_3[255&s0]^keySchedule[ksRow++],t2=SUB_MIX_0[s2>>>24]^SUB_MIX_1[s3>>>16&255]^SUB_MIX_2[s0>>>8&255]^SUB_MIX_3[255&s1]^keySchedule[ksRow++],t3=SUB_MIX_0[s3>>>24]^SUB_MIX_1[s0>>>16&255]^SUB_MIX_2[s1>>>8&255]^SUB_MIX_3[255&s2]^keySchedule[ksRow++];s0=t0,s1=t1,s2=t2,s3=t3}var t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++];M[offset]=t0,M[offset+1]=t1,M[offset+2]=t2,M[offset+3]=t3},keySize:8});C.AES=BlockCipher._createHelper(AES)}(),CryptoJS.mode.ECB=function(){var ECB=CryptoJS.lib.BlockCipherMode.extend();return ECB.Encryptor=ECB.extend({processBlock:function(words,offset){this._cipher.encryptBlock(words,offset)}}),ECB.Decryptor=ECB.extend({processBlock:function(words,offset){this._cipher.decryptBlock(words,offset)}}),ECB}(),CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}},function(){var r,n,o,t;!function(r){function n(r){return f?new f(r):new Array(r)}function o(r){return f?new f(r):r}function t(r){for(var o=r.length/2,t=n(o),e=0;e<o;e++){var a=parseInt(r.substr(2*e,2),16);if(isNaN(a))throw Error("invalid hex data");t[e]=a}return t}function e(r){for(var n=r.length,o="",t=0;t<n;t++){var e=255&r[t],a=e.toString(16);e<16&&(a="0"+a),o+=a}return o}function a(r){var n=window.TextEncoder;if(n)return(new n).encode(r);for(var t=[],e=0,a=0,i=encodeURI(r),c=i.length;e<c;){var f=i.charCodeAt(e);if(37==f){var s=i.substr(e+1,2);f=parseInt(s,16),e+=3}else e++;t[a++]=f}return o(t)}function i(r){for(var n=r.length,o="",t=0;t<n;t++){var e=r[t],a=e.toString(16);e<16&&(a="0"+a),o+="%"+a}return decodeURIComponent(o)}function c(r){r.style.cssText="position:absolute;top:-999px"}var f=window.Uint8Array;r.hexToBytes=t,r.bytesToHex=e,r.strToBytes=a,r.bytesToStr=i,r.hideDom=c}(r||(r={})),function(r){function n(){return"Worker"in window}function o(n){t.__asmjs_cb=s;var o=n+"asmjs.js",e=document.createElement("script");e.onerror=function(){r.onerror("script load fail")},e.src=o,document.body.appendChild(e)}function e(r,n,o){u.hash(r,n,o)}function a(r,n,o,t,e,a,i){u.config.apply(this,arguments)}function i(){u.stop()}function c(){u.free()}function f(){u&&(u.unload(),u=null)}function s(n,o){"onload"==n&&(u=o),r[n](o)}var u;r.check=n,r.load=o,r.hash=e,r.config=a,r.stop=i,r.free=c,r.unload=f}(n||(n={})),function(n){function o(){return v()>=18}function e(n){var o;t.__flash_cb=u,m=l(n+"flash.swf"),r.hideDom(m)}function a(n,o,t){var e=r.bytesToHex(n),a=r.bytesToHex(o);m.hash(e,a,t)}function i(r,n,o,t,e,a,i){m.config.apply(m,arguments)}function c(){m.cancel()}function f(){m.free(),m=null}function s(){document.body.removeChild(m),m=null}function u(o,t){"oncomplete"==o&&(t=r.hexToBytes(t));try{n[o](t)}catch(e){throw e}}function l(r){var n=document.createElement("div"),o="_"+(1e6*Math.random()|0);r=encodeURI(r),n.innerHTML=p?`\n            <object id=${o} classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000>\n                <param name=movie value=${r}>\n                <param name=allowScriptAccess value=always>\n            </object>"\n            `:`<embed id=${o} name=${o} src=${r} type=application/x-shockwave-flash allowScriptAccess=always></embed>`;var t=n.firstChild;return document.body.appendChild(t),t}function h(){var r=navigator.plugins;if(r){var n=r["Shockwave Flash"];if(n){var o=n.description;if(o)return+o.match(w)}}}function d(){var r=window.ActiveXObject;if(r){var n="";try{n=new r("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(",",".")}catch(o){return}return+n.match(w)}}function v(){var r=h();return r>0?r:(r=d())>0?(p=!0,r):0}var m,p;n.check=o,n.load=e,n.hash=a,n.config=i,n.stop=c,n.free=f,n.unload=s;var w=/\d+\.\d+/}(o||(o={})),function(t){function e(){for(var r=f(),n={},o=0;o<r.length;o++)n[r[o]]=!0;var t=navigator.userAgent;return/Chrome|Firefox|Edge|Safari/.test(t)&&"asmjs"in n?"asmjs":"flash"in n?"flash":null}function a(r,n){if(r)switch(arguments.length){case 1:return r();case 2:return r(n)}}function i(){k&&(clearTimeout(k),k=0)}function c(r,n,o){if(T<2)throw Error("scrypt not loaded");if(T<4)throw Error("scrypt not configed");if(5==T)throw Error("scrypt is running");if(T=5,o=o||B,n=n||[],(r=r||[]).length>j)throw Error("pass.length > maxPassLen");if(n.length>A)throw Error("salt.length > maxSaltLen");if(o>B)throw Error("dkLen > maxDkLen");x.hash(r,n,o)}function f(){if(!E)for(var r in E=[],b)b[r].check()&&E.push(r);return E}function s(r){if(!(T>=1)){if(!r&&!(r=e()))throw Error("no available mod");if(!(x=b[r]))throw Error("unsupported mod: "+r);x.onload=function(){i(),a(t.onload)},x.onerror=function(r){h(),a(t.onerror,r)},x.onready=function(){T=4,a(t.onready)},x.onprogress=function(r){a(t.onprogress,r)},x.oncomplete=function(r){T=4,a(t.onprogress,1),a(t.oncomplete,r)},i(),k=setTimeout(function(){h(),a(t.onerror,"load timeout")},L),T=1,x.load(S)}}function u(){x.stop(),T=4}function l(){4==T&&(x.free(),T=2)}function h(){0!=T&&(x.unload(),T=0),i()}function d(r,n,o){if(!r)throw Error("config() takes at least 1 argument");var t=0|r.N;if(!(1<t&&t<=8388608))throw Error("param N out of range (1 < N <= 2^23)");if(t&t-1)throw Error("param N must be power of 2");var e=0|r.r;if(!(0<e&&e<256))throw Error("param r out of range (0 < r < 256)");var a=0|r.P,i;if(!(0<a&&a<256))throw Error("param P out of range (0 < P < 256)");if(t*e*128>1073741824)throw Error("memory limit exceeded (N * r * 128 > 1G)");if(n){var c=n.maxPassLen;if(null==c)c=j;else if(c<=0)throw Error("invalid maxPassLen");var f=n.maxSaltLen;if(null==f)f=A;else if(f<=0)throw Error("invalid maxSaltLen");var s=n.maxDkLen;if(null==s)s=B;else if(s<=0)throw Error("invalid maxDkLen");var u=n.maxThread;if(null==u)u=C;else if(u<=0)throw Error("invalid maxThread");o||(j=0|c,A=0|f,B=0|s,C=0|u)}if(!o){var l=Math.ceil(a/C),h=Math.ceil(a/l);x.config(t,e,a,h,j,A,B),T=3}}function v(n){return r.strToBytes(n)}function m(n){return r.bytesToStr(n)}function p(n){if(n.length%2)throw Error("invalid hex length");return r.hexToBytes(n)}function w(n){return r.bytesToHex(n)}function g(r){/\/$/.test(r)||(r+="/"),S=r}function y(r){L=r}var x,E,b={asmjs:n,flash:o},T=0,S="",k=0,L=3e4,j=64,A=64,B=64,C=1;t.hash=c,t.getAvailableMod=f,t.load=s,t.stop=u,t.free=l,t.unload=h,t.config=d,t.strToBin=v,t.binToStr=m,t.hexToBin=p,t.binToHex=w,t.setResPath=g,t.setResTimeout=y,window.scrypt=t}(t||(t={}))}();var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),Neo,Neo,Neo,Neo;!function(Neo){var UintVariable=function(){function UintVariable(bits){if("number"==typeof bits){if(bits<=0||bits%32!=0)throw new RangeError;this._bits=new Uint32Array(bits/32)}else if(bits instanceof Uint8Array){if(0==bits.length||bits.length%4!=0)throw new RangeError;if(bits.byteOffset%4==0)this._bits=new Uint32Array(bits.buffer,bits.byteOffset,bits.length/4);else{var bits_new=new Uint8Array(bits);this._bits=new Uint32Array(bits_new.buffer)}}else if(bits instanceof Uint32Array)this._bits=bits;else if(bits instanceof Array){if(0==bits.length)throw new RangeError;this._bits=new Uint32Array(bits)}}return Object.defineProperty(UintVariable.prototype,"bits",{get:function(){return this._bits},enumerable:!0,configurable:!0}),UintVariable.prototype.compareTo=function(other){for(var max,i=Math.max(this._bits.length,other._bits.length)-1;i>=0;i--){if((this._bits[i]||0)>(other._bits[i]||0))return 1;if((this._bits[i]||0)<(other._bits[i]||0))return-1}return 0},UintVariable.prototype.equals=function(other){for(var max=Math.max(this._bits.length,other._bits.length),i=0;i<max;i++)if((this._bits[i]||0)!=(other._bits[i]||0))return!1;return!0},UintVariable.prototype.toString=function(){for(var s="",i=32*this._bits.length-4;i>=0;i-=4)s+=(this._bits[i>>>5]>>>i%32&15).toString(16);return s},UintVariable.prototype.toArray=function(){return new Uint8Array(this._bits.buffer).reverse()},UintVariable}();Neo.UintVariable=UintVariable}(Neo||(Neo={})),function(Neo){var _max,_min,Uint64=function(_super){function Uint64(low,high){return void 0===low&&(low=0),void 0===high&&(high=0),_super.call(this,[low,high])||this}return __extends(Uint64,_super),Object.defineProperty(Uint64,"MaxValue",{get:function(){return _max||(_max=new Uint64(4294967295,4294967295))},enumerable:!0,configurable:!0}),Object.defineProperty(Uint64,"MinValue",{get:function(){return _min||(_min=new Uint64)},enumerable:!0,configurable:!0}),Object.defineProperty(Uint64,"Zero",{get:function(){return Uint64.MinValue},enumerable:!0,configurable:!0}),Uint64.prototype.add=function(other){var low=this._bits[0]+other._bits[0],high;return new Uint64(low,this._bits[1]+other._bits[1]+(low>4294967295?1:0))},Uint64.prototype.and=function(other){if("number"==typeof other)return this.and(new Uint64(other));for(var bits=new Uint32Array(this._bits.length),i=0;i<bits.length;i++)bits[i]=this._bits[i]&other._bits[i];return new Uint64(bits[0],bits[1])},Uint64.prototype.leftShift=function(shift){if(0==shift)return this;var shift_units=shift>>>5;shift&=31;for(var bits=new Uint32Array(this._bits.length),i=shift_units;i<bits.length;i++)bits[i]=0==shift?this._bits[i-shift_units]:this._bits[i-shift_units]<<shift|this._bits[i-shift_units-1]>>>32-shift;return new Uint64(bits[0],bits[1])},Uint64.prototype.not=function(){for(var bits=new Uint32Array(this._bits.length),i=0;i<bits.length;i++)bits[i]=~this._bits[i];return new Uint64(bits[0],bits[1])},Uint64.prototype.or=function(other){if("number"==typeof other)return this.or(new Uint64(other));for(var bits=new Uint32Array(this._bits.length),i=0;i<bits.length;i++)bits[i]=this._bits[i]|other._bits[i];return new Uint64(bits[0],bits[1])},Uint64.parse=function(str){var bi=Neo.BigInteger.parse(str);if(bi.bitLength()>64)throw new RangeError;var array=new Uint32Array(bi.toUint8Array(!0,8).buffer);return new Uint64(array[0],array[1])},Uint64.prototype.rightShift=function(shift){if(0==shift)return this;var shift_units=shift>>>5;shift&=31;for(var bits=new Uint32Array(this._bits.length),i=0;i<bits.length-shift_units;i++)bits[i]=0==shift?this._bits[i+shift_units]:this._bits[i+shift_units]>>>shift|this._bits[i+shift_units+1]<<32-shift;return new Uint64(bits[0],bits[1])},Uint64.prototype.subtract=function(other){var low,high;return new Uint64(this._bits[0]-other._bits[0],this._bits[1]-other._bits[1]-(this._bits[0]<other._bits[0]?1:0))},Uint64.prototype.toInt32=function(){return 0|this._bits[0]},Uint64.prototype.toNumber=function(){return this._bits[0]+this._bits[1]*Math.pow(2,32)},Uint64.prototype.toString=function(){return new Neo.BigInteger(this._bits.buffer).toString()},Uint64.prototype.toUint32=function(){return this._bits[0]},Uint64.prototype.xor=function(other){if("number"==typeof other)return this.xor(new Uint64(other));for(var bits=new Uint32Array(this._bits.length),i=0;i<bits.length;i++)bits[i]=this._bits[i]^other._bits[i];return new Uint64(bits[0],bits[1])},Uint64}(Neo.UintVariable);Neo.Uint64=Uint64}(Neo||(Neo={})),function(Neo){var DB=26,DM=(1<<DB)-1,DV=DM+1,_minusone,_one,_zero,BigInteger=function(){function BigInteger(value){if(this._sign=0,this._bits=new Array,"number"==typeof value){if(!isFinite(value)||isNaN(value))throw new RangeError;var parts=BigInteger.getDoubleParts(value);if(parts.man.equals(Neo.Uint64.Zero)||parts.exp<=-64)return;if(parts.exp<=0)this.fromUint64(parts.man.rightShift(-parts.exp),parts.sign);else if(parts.exp<=11)this.fromUint64(parts.man.leftShift(parts.exp),parts.sign);else{parts.man=parts.man.leftShift(11),parts.exp-=11;for(var units=Math.ceil((parts.exp+64)/DB),cu=Math.ceil(parts.exp/DB),cbit=cu*DB-parts.exp,i=cu;i<units;i++)this._bits[i]=parts.man.rightShift(cbit+(i-cu)*DB).toUint32()&DM;cbit>0&&(this._bits[cu-1]=parts.man.toUint32()<<DB-cbit&DM),this._sign=parts.sign,this.clamp()}}else"string"==typeof value?this.fromString(value):value instanceof Uint8Array?this.fromUint8Array(value):value instanceof ArrayBuffer&&this.fromUint8Array(new Uint8Array(value))}return Object.defineProperty(BigInteger,"MinusOne",{get:function(){return _minusone||(_minusone=new BigInteger(-1))},enumerable:!0,configurable:!0}),Object.defineProperty(BigInteger,"One",{get:function(){return _one||(_one=new BigInteger(1))},enumerable:!0,configurable:!0}),Object.defineProperty(BigInteger,"Zero",{get:function(){return _zero||(_zero=new BigInteger(0))},enumerable:!0,configurable:!0}),BigInteger.add=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(0==bi_x._sign)return bi_y;if(0==bi_y._sign)return bi_x;if(bi_x._sign>0!=bi_y._sign>0)return BigInteger.subtract(bi_x,bi_y.negate());var bits_r=new Array;return BigInteger.addTo(bi_x._bits,bi_y._bits,bits_r),BigInteger.create(bi_x._sign,bits_r)},BigInteger.prototype.add=function(other){return BigInteger.add(this,other)},BigInteger.addTo=function(x,y,r){if(x.length<y.length){var t=x;x=y,y=t}for(var c=0,i=0;i<y.length;)c+=x[i]+y[i],r[i++]=c&DM,c>>>=DB;for(;i<x.length;)c+=x[i],r[i++]=c&DM,c>>>=DB;c>0&&(r[i]=c)},BigInteger.prototype.bitLength=function(){var l=this._bits.length;return 0==l?0:--l*DB+BigInteger.bitLengthInternal(this._bits[l])},BigInteger.bitLengthInternal=function(w){return w<32768?w<128?w<8?w<2?w<1?w<0?32:0:1:w<4?2:3:w<32?w<16?4:5:w<64?6:7:w<2048?w<512?w<256?8:9:w<1024?10:11:w<8192?w<4096?12:13:w<16384?14:15:w<1<<23?w<1<<19?w<1<<17?w<65536?16:17:w<1<<18?18:19:w<1<<21?w<1<<20?20:21:w<1<<22?22:23:w<1<<27?w<1<<25?w<1<<24?24:25:w<1<<26?26:27:w<1<<29?w<1<<28?28:29:w<1<<30?30:31},BigInteger.prototype.clamp=function(){for(var l=this._bits.length;l>0&&0==(0|this._bits[--l]);)this._bits.pop();for(;l>0;)this._bits[--l]|=0;0==this._bits.length&&(this._sign=0)},BigInteger.compare=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(bi_x._sign>=0&&bi_y._sign<0)return 1;if(bi_x._sign<0&&bi_y._sign>=0)return-1;var c=BigInteger.compareAbs(bi_x,bi_y);return bi_x._sign<0?-c:c},BigInteger.compareAbs=function(x,y){if(x._bits.length>y._bits.length)return 1;if(x._bits.length<y._bits.length)return-1;for(var i=x._bits.length-1;i>=0;i--){if(x._bits[i]>y._bits[i])return 1;if(x._bits[i]<y._bits[i])return-1}return 0},BigInteger.prototype.compareTo=function(other){return BigInteger.compare(this,other)},BigInteger.create=function(sign,bits,clamp){void 0===clamp&&(clamp=!1);var bi=Object.create(BigInteger.prototype);return bi._sign=sign,bi._bits=bits,clamp&&bi.clamp(),bi},BigInteger.divide=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;return BigInteger.divRem(bi_x,bi_y).result},BigInteger.prototype.divide=function(other){return BigInteger.divide(this,other)},BigInteger.divRem=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(0==bi_y._sign)throw new RangeError;if(0==bi_x._sign)return{result:BigInteger.Zero,remainder:BigInteger.Zero};if(1==bi_y._sign&&null==bi_y._bits)return{result:bi_x,remainder:BigInteger.Zero};if(-1==bi_y._sign&&null==bi_y._bits)return{result:bi_x.negate(),remainder:BigInteger.Zero};var sign_result=bi_x._sign>0==bi_y._sign>0?1:-1,c=BigInteger.compareAbs(bi_x,bi_y);if(0==c)return{result:sign_result>0?BigInteger.One:BigInteger.MinusOne,remainder:BigInteger.Zero};if(c<0)return{result:BigInteger.Zero,remainder:bi_x};var bits_result=new Array,bits_rem=new Array;Array.copy(bi_x._bits,0,bits_rem,0,bi_x._bits.length);for(var df=bi_y._bits[bi_y._bits.length-1],i=bi_x._bits.length-1;i>=bi_y._bits.length-1;i--){var offset=i-bi_y._bits.length+1,d=bits_rem[i]+(bits_rem[i+1]||0)*DV,max=Math.floor(d/df);max>DM&&(max=DM);for(var min=0;min!=max;){for(var bits_sub_1=new Array(offset+bi_y._bits.length),i_1=0;i_1<offset;i_1++)bits_sub_1[i_1]=0;bits_result[offset]=Math.ceil((min+max)/2),BigInteger.multiplyTo(bi_y._bits,[bits_result[offset]],bits_sub_1,offset),BigInteger.subtractTo(bits_rem,bits_sub_1)?max=bits_result[offset]-1:min=bits_result[offset]}for(var bits_sub=new Array(offset+bi_y._bits.length),i_2=0;i_2<offset;i_2++)bits_sub[i_2]=0;bits_result[offset]=min,BigInteger.multiplyTo(bi_y._bits,[bits_result[offset]],bits_sub,offset),BigInteger.subtractTo(bits_rem,bits_sub,bits_rem)}return{result:BigInteger.create(sign_result,bits_result,!0),remainder:BigInteger.create(bi_x._sign,bits_rem,!0)}},BigInteger.equals=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(bi_x._sign!=bi_y._sign)return!1;if(bi_x._bits.length!=bi_y._bits.length)return!1;for(var i=0;i<bi_x._bits.length;i++)if(bi_x._bits[i]!=bi_y._bits[i])return!1;return!0},BigInteger.prototype.equals=function(other){return BigInteger.equals(this,other)},BigInteger.fromString=function(str,radix){void 0===radix&&(radix=10);var bi=Object.create(BigInteger.prototype);return bi.fromString(str,radix),bi},BigInteger.prototype.fromString=function(str,radix){if(void 0===radix&&(radix=10),radix<2||radix>36)throw new RangeError;if(0==str.length)return this._sign,void(this._bits=[]);var bits_radix=[radix],bits_a=[0],first=str.charCodeAt(0),withsign=43==first||45==first;this._sign=45==first?-1:1,this._bits=[];for(var i=withsign?1:0;i<str.length;i++){if(bits_a[0]=str.charCodeAt(i),bits_a[0]>=48&&bits_a[0]<=57)bits_a[0]-=48;else if(bits_a[0]>=65&&bits_a[0]<=90)bits_a[0]-=55;else{if(!(bits_a[0]>=97&&bits_a[0]<=122))throw new RangeError;bits_a[0]-=87}var bits_temp=new Array;BigInteger.multiplyTo(this._bits,bits_radix,bits_temp),BigInteger.addTo(bits_temp,bits_a,this._bits)}this.clamp()},BigInteger.fromUint8Array=function(arr,sign,littleEndian){void 0===sign&&(sign=1),void 0===littleEndian&&(littleEndian=!0);var bi=Object.create(BigInteger.prototype);return bi.fromUint8Array(arr,sign,littleEndian),bi},BigInteger.fromUint8ArrayAutoSign=function(arr,littleEndian){var spos,btsign,care;if(void 0===littleEndian&&(littleEndian=!0),(128&arr[littleEndian?arr.length-1:0])>0){for(var array=new Uint8Array(arr.length),i=0;i<arr.length;i++)array[i]=~arr[i];var n=BigInteger.fromUint8Array(array,1,littleEndian);return(n=n.add(1))._sign=-1,n}return BigInteger.fromUint8Array(arr,1,littleEndian)},BigInteger.prototype.fromUint8Array=function(arr,sign,littleEndian){if(void 0===sign&&(sign=1),void 0===littleEndian&&(littleEndian=!0),!littleEndian){for(var arr_new=new Uint8Array(arr.length),i=0;i<arr.length;i++)arr_new[arr.length-1-i]=arr[i];arr=arr_new}var actual_length,bits=8*BigInteger.getActualLength(arr),units=Math.ceil(bits/DB);this._bits=[];for(var i=0;i<units;i++){var cb=i*DB,cu=Math.floor(cb/8);cb%=8,this._bits[i]=(arr[cu]|arr[cu+1]<<8|arr[cu+2]<<16|arr[cu+3]<<24)>>>cb&DM}this._sign=sign<0?-1:1,this.clamp()},BigInteger.prototype.fromUint64=function(i,sign){for(;0!=i.bits[0]||0!=i.bits[1];)this._bits.push(i.toUint32()&DM),i=i.rightShift(DB);this._sign=sign,this.clamp()},BigInteger.getActualLength=function(arr){for(var actual_length=arr.length,i=arr.length-1;i>=0;i--)if(0!=arr[i]){actual_length=i+1;break}return actual_length},BigInteger.getDoubleParts=function(dbl){var uu=new Uint32Array(2);new Float64Array(uu.buffer)[0]=dbl;var result={sign:1-(uu[1]>>>30&2),man:new Neo.Uint64(uu[0],1048575&uu[1]),exp:uu[1]>>>20&2047,fFinite:!0};return 0==result.exp?result.man.equals(Neo.Uint64.Zero)||(result.exp=-1074):2047==result.exp?result.fFinite=!1:(result.man=result.man.or(new Neo.Uint64(0,1048576)),result.exp-=1075),result},BigInteger.prototype.getLowestSetBit=function(){if(0==this._sign)return-1;for(var w=0;0==this._bits[w];)w++;for(var x=0;x<DB;x++)if((this._bits[w]&1<<x)>0)return x+w*DB},BigInteger.prototype.isEven=function(){return 0==this._sign||0==(1&this._bits[0])},BigInteger.prototype.isZero=function(){return 0==this._sign},BigInteger.prototype.leftShift=function(shift){if(0==shift)return this;var shift_units=Math.floor(shift/DB);shift%=DB;var bits_new=new Array(this._bits.length+shift_units);if(0==shift)for(var i=0;i<this._bits.length;i++)bits_new[i+shift_units]=this._bits[i];else{for(var i=shift_units;i<bits_new.length;i++)bits_new[i]=(this._bits[i-shift_units]<<shift|this._bits[i-shift_units-1]>>>DB-shift)&DM;bits_new[bits_new.length]=this._bits[this._bits.length-1]>>>DB-shift&DM}return BigInteger.create(this._sign,bits_new,!0)},BigInteger.mod=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y,bi_new=BigInteger.divRem(bi_x,bi_y).remainder;return bi_new._sign<0&&(bi_new=BigInteger.add(bi_new,bi_y)),bi_new},BigInteger.prototype.mod=function(other){return BigInteger.mod(this,other)},BigInteger.modInverse=function(value,modulus){for(var a="number"==typeof value?new BigInteger(value):value,n="number"==typeof modulus?new BigInteger(modulus):modulus,i=n,v=BigInteger.Zero,d=BigInteger.One;a._sign>0;){var t=BigInteger.divRem(i,a),x=d;i=a,a=t.remainder,d=v.subtract(t.result.multiply(x)),v=x}return BigInteger.mod(v,n)},BigInteger.prototype.modInverse=function(modulus){return BigInteger.modInverse(this,modulus)},BigInteger.modPow=function(value,exponent,modulus){var bi_v="number"==typeof value?new BigInteger(value):value,bi_e="number"==typeof exponent?new BigInteger(exponent):exponent,bi_m="number"==typeof modulus?new BigInteger(modulus):modulus;if(bi_e._sign<0||0==bi_m._sign)throw new RangeError;if(1==Math.abs(bi_m._sign)&&null==bi_m._bits)return BigInteger.Zero;for(var h=bi_e.bitLength(),bi_new=BigInteger.One,i=0;i<h;i++)i>0&&(bi_v=BigInteger.multiply(bi_v,bi_v)),bi_v=bi_v.remainder(bi_m),bi_e.testBit(i)&&(bi_new=BigInteger.multiply(bi_v,bi_new).remainder(bi_m));return bi_new._sign<0&&(bi_new=BigInteger.add(bi_new,bi_m)),bi_new},BigInteger.prototype.modPow=function(exponent,modulus){return BigInteger.modPow(this,exponent,modulus)},BigInteger.multiply=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(0==bi_x._sign)return bi_x;if(0==bi_y._sign)return bi_y;if(1==bi_x._sign&&null==bi_x._bits)return bi_y;if(-1==bi_x._sign&&null==bi_x._bits)return bi_y.negate();if(1==bi_y._sign&&null==bi_y._bits)return bi_x;if(-1==bi_y._sign&&null==bi_y._bits)return bi_x.negate();var bits_r=new Array;return BigInteger.multiplyTo(bi_x._bits,bi_y._bits,bits_r),BigInteger.create(bi_x._sign>0==bi_y._sign>0?1:-1,bits_r)},BigInteger.prototype.multiply=function(other){return BigInteger.multiply(this,other)},BigInteger.multiplyTo=function(x,y,r,offset){if(void 0===offset&&(offset=0),x.length>y.length){var t=x;x=y,y=t}for(var i=x.length+y.length-2;i>=0;i--)r[i+offset]=0;for(var i=0;i<x.length;i++)if(0!=x[i])for(var j=0;j<y.length;j++){var c=x[i]*y[j];if(0!=c){var k=i+j;do{c+=r[k+offset]||0,r[k+offset]=c&DM,c=Math.floor(c/DV),k++}while(c>0)}}},BigInteger.prototype.negate=function(){return BigInteger.create(-this._sign,this._bits)},BigInteger.parse=function(str){return BigInteger.fromString(str)},BigInteger.pow=function(value,exponent){var bi_v="number"==typeof value?new BigInteger(value):value;if(exponent<0||exponent>2147483647)throw new RangeError;if(0==exponent)return BigInteger.One;if(1==exponent)return bi_v;if(0==bi_v._sign)return bi_v;if(1==bi_v._bits.length){if(1==bi_v._bits[0])return bi_v;if(-1==bi_v._bits[0])return 0!=(1&exponent)?bi_v:BigInteger.One}for(var h=BigInteger.bitLengthInternal(exponent),bi_new=BigInteger.One,i=0;i<h;i++){var e=1<<i;e>1&&(bi_v=BigInteger.multiply(bi_v,bi_v)),0!=(exponent&e)&&(bi_new=BigInteger.multiply(bi_v,bi_new))}return bi_new},BigInteger.prototype.pow=function(exponent){return BigInteger.pow(this,exponent)},BigInteger.random=function(bitLength,rng){if(0==bitLength)return BigInteger.Zero;var bytes=new Uint8Array(Math.ceil(bitLength/8));if(null==rng)for(var i=0;i<bytes.length;i++)bytes[i]=256*Math.random();else rng.getRandomValues(bytes);return bytes[bytes.length-1]&=255>>>8-bitLength%8,new BigInteger(bytes)},BigInteger.remainder=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;return BigInteger.divRem(bi_x,bi_y).remainder},BigInteger.prototype.remainder=function(other){return BigInteger.remainder(this,other)},BigInteger.prototype.rightShift=function(shift){if(0==shift)return this;var shift_units=Math.floor(shift/DB);if(shift%=DB,this._bits.length<=shift_units)return BigInteger.Zero;var bits_new=new Array(this._bits.length-shift_units);if(0==shift)for(var i=0;i<bits_new.length;i++)bits_new[i]=this._bits[i+shift_units];else for(var i=0;i<bits_new.length;i++)bits_new[i]=(this._bits[i+shift_units]>>>shift|this._bits[i+shift_units+1]<<DB-shift)&DM;return BigInteger.create(this._sign,bits_new,!0)},BigInteger.prototype.sign=function(){return this._sign},BigInteger.subtract=function(x,y){var bi_x="number"==typeof x?new BigInteger(x):x,bi_y="number"==typeof y?new BigInteger(y):y;if(0==bi_x._sign)return bi_y.negate();if(0==bi_y._sign)return bi_x;if(bi_x._sign>0!=bi_y._sign>0)return BigInteger.add(bi_x,bi_y.negate());var c=BigInteger.compareAbs(bi_x,bi_y);if(0==c)return BigInteger.Zero;if(c<0)return BigInteger.subtract(bi_y,bi_x).negate();var bits_r=new Array;return BigInteger.subtractTo(bi_x._bits,bi_y._bits,bits_r),BigInteger.create(bi_x._sign,bits_r,!0)},BigInteger.prototype.subtract=function(other){return BigInteger.subtract(this,other)},BigInteger.subtractTo=function(x,y,r){null==r&&(r=[]);for(var l=Math.min(x.length,y.length),c=0,i=0;i<l;)c+=x[i]-y[i],r[i++]=c&DM,c>>=DB;if(x.length<y.length)for(;i<y.length;)c-=y[i],r[i++]=c&DM,c>>=DB;else for(;i<x.length;)c+=x[i],r[i++]=c&DM,c>>=DB;return c<0},BigInteger.prototype.testBit=function(n){var units=Math.floor(n/DB);return!(this._bits.length<=units)&&0!=(this._bits[units]&1<<(n%=DB))},BigInteger.prototype.toInt32=function(){return 0==this._sign?0:1==this._bits.length?this._bits[0]*this._sign:(2147483647&(this._bits[0]|this._bits[1]*DV))*this._sign},BigInteger.prototype.toString=function(radix){if(void 0===radix&&(radix=10),0==this._sign)return"0";if(radix<2||radix>36)throw new RangeError;for(var s="",bi=this;0!=bi._sign;){var r=BigInteger.divRem(bi,radix),rem=Math.abs(r.remainder.toInt32());rem+=rem<10?48:87,s=String.fromCharCode(rem)+s,bi=r.result}return this._sign<0&&(s="-"+s),s},BigInteger.prototype.toUint8Array=function(littleEndian,length){if(void 0===littleEndian&&(littleEndian=!0),0==this._sign)return new Uint8Array(length||1);for(var cb=Math.ceil((this._bits.length*DB+1)/8),array=new Uint8Array(length||cb),i=0;i<array.length;i++){var offset=littleEndian?i:array.length-1-i,cbits=8*i,cu=Math.floor(cbits/DB);cbits%=DB,array[offset]=DB-cbits<8?255&(this._bits[cu]>>>cbits|this._bits[cu+1]<<DB-cbits):this._bits[cu]>>>cbits&255}return(length=length||BigInteger.getActualLength(array))<array.length&&(array=array.subarray(0,length)),array},BigInteger.prototype.toUint8ArrayWithSign=function(littleEndian,length){if(void 0===littleEndian&&(littleEndian=!0),0==this._sign)return new Uint8Array(length||1);if(this._sign>0){for(var cb=Math.ceil((this._bits.length*DB+1)/8),array_1=new Uint8Array(length||cb),i_3=0;i_3<array_1.length;i_3++){var offset=littleEndian?i_3:array_1.length-1-i_3,cbits=8*i_3,cu=Math.floor(cbits/DB);cu<=this._bits.length?(cbits%=DB,array_1[offset]=DB-cbits<8?255&(this._bits[cu]>>>cbits|this._bits[cu+1]<<DB-cbits):this._bits[cu]>>>cbits&255):array_1[offset]=0}if((length=length||BigInteger.getActualLength(array_1))<array_1.length&&(array_1=array_1.subarray(0,length)),(128&array_1[array_1.length-1])>0){for(var newarr=new Uint8Array(array_1.length+1),i=0;i<array_1.length;i++)newarr[i]=array_1[i];newarr[array_1.length]=0,array_1=newarr}return array_1}var n=this.add(1);n.sign()<0&&(n._sign=1);for(var array=n.toUint8Array(),needaddsign=(128&array[array.length-1])>0,newarr=new Uint8Array(needaddsign?array.length+1:array.length),i=0;i<array.length;i++)newarr[i]=~array[i];return needaddsign&&(newarr[i]=255),array=newarr},BigInteger}();Neo.BigInteger=BigInteger}(Neo||(Neo={})),function(Neo){var D=1e8,_max,_minus,_min,_one,_satoshi,Fixed8=function(){function Fixed8(data){if(this.data=data,data.bits[1]>=2147483648&&(4294967295!=data.bits[0]||4294967295!=data.bits[1]))throw new RangeError}return Object.defineProperty(Fixed8,"MaxValue",{get:function(){return _max||(_max=new Fixed8(new Neo.Uint64(4294967295,2147483647)))},enumerable:!0,configurable:!0}),Object.defineProperty(Fixed8,"MinusOne",{get:function(){return _minus||(_minus=new Fixed8(new Neo.Uint64(4294967295,4294967295)))},enumerable:!0,configurable:!0}),Object.defineProperty(Fixed8,"MinValue",{get:function(){return _min||(_min=new Fixed8(Neo.Uint64.MinValue))},enumerable:!0,configurable:!0}),Object.defineProperty(Fixed8,"One",{get:function(){return _one||(_one=Fixed8.fromNumber(1))},enumerable:!0,configurable:!0}),Object.defineProperty(Fixed8,"Satoshi",{get:function(){return _satoshi||(_satoshi=new Fixed8(new Neo.Uint64(1)))},enumerable:!0,configurable:!0}),Object.defineProperty(Fixed8,"Zero",{get:function(){return Fixed8.MinValue},enumerable:!0,configurable:!0}),Fixed8.prototype.add=function(other){var result=this.data.add(other.data);if(result.compareTo(this.data)<0)throw new Error;return new Fixed8(result)},Fixed8.prototype.compareTo=function(other){return this.data.compareTo(other.data)},Fixed8.prototype.equals=function(other){return this.data.equals(other.data)},Fixed8.fromNumber=function(value){if(value<0)throw new RangeError;if((value*=D)>=0x8000000000000000)throw new RangeError;var array=new Uint32Array(new Neo.BigInteger(value).toUint8Array(!0,8).buffer);return new Fixed8(new Neo.Uint64(array[0],array[1]))},Fixed8.prototype.getData=function(){return this.data},Fixed8.max=function(first){for(var others=[],_i=1;_i<arguments.length;_i++)others[_i-1]=arguments[_i];for(var i=0;i<others.length;i++)first.compareTo(others[i])<0&&(first=others[i]);return first},Fixed8.min=function(first){for(var others=[],_i=1;_i<arguments.length;_i++)others[_i-1]=arguments[_i];for(var i=0;i<others.length;i++)first.compareTo(others[i])>0&&(first=others[i]);return first},Fixed8.parse=function(str){var dot=str.indexOf("."),digits=dot>=0?str.length-dot-1:0;if(str=str.replace(".",""),digits>8)str=str.substr(0,str.length-digits+8);else if(digits<8)for(var i=digits;i<8;i++)str+="0";return new Fixed8(Neo.Uint64.parse(str))},Fixed8.prototype.subtract=function(other){if(this.data.compareTo(other.data)<0)throw new Error;return new Fixed8(this.data.subtract(other.data))},Fixed8.prototype.toString=function(){for(var str=this.data.toString();str.length<=8;)str="0"+str;for(var e=0,i=(str=str.substr(0,str.length-8)+"."+str.substr(str.length-8)).length-1;i>=0&&"0"==str[i];i--)e++;return"."==(str=str.substr(0,str.length-e))[str.length-1]&&(str=str.substr(0,str.length-1)),str},Fixed8.prototype.deserialize=function(reader){this.data=reader.readUint64()},Fixed8.prototype.serialize=function(writer){writer.writeUint64(this.getData())},Fixed8}();Neo.Fixed8=Fixed8}(Neo||(Neo={})),Array.copy=function(src,srcOffset,dst,dstOffset,count){for(var i=0;i<count;i++)dst[i+dstOffset]=src[i+srcOffset]},Array.fromArray=function(arr){for(var array=new Array(arr.length),i=0;i<array.length;i++)array[i]=arr[i];return array},Uint8Array.fromArrayBuffer=function(buffer){if(buffer instanceof Uint8Array)return buffer;if(buffer instanceof ArrayBuffer)return new Uint8Array(buffer);var view=buffer;return new Uint8Array(view.buffer,view.byteOffset,view.byteLength)},String.prototype.hexToBytes=function(){if(0!=(1&this.length))throw new RangeError;var str=this;this.length>=2&&"0"==this[0]&&"x"==this[1]&&(str=this.substr(2));for(var bytes=new Uint8Array(str.length/2),i=0;i<bytes.length;i++)bytes[i]=parseInt(str.substr(2*i,2),16);return bytes},ArrayBuffer.prototype.slice=ArrayBuffer.prototype.slice||function(begin,end){void 0===end&&(end=this.byteLength),begin<0&&(begin+=this.byteLength),begin<0&&(begin=0),end<0&&(end+=this.byteLength),end>this.byteLength&&(end=this.byteLength);var length=end-begin;length<0&&(length=0);for(var src=new Uint8Array(this),dst=new Uint8Array(length),i=0;i<length;i++)dst[i]=src[i+begin];return dst.buffer},Uint8Array.prototype.toHexString=function(){for(var s="",i=0;i<this.length;i++)s+=(this[i]>>>4).toString(16),s+=(15&this[i]).toString(16);return s},Uint8Array.prototype.clone=function(){for(var u8=new Uint8Array(this.length),i=0;i<this.length;i++)u8[i]=this[i];return u8},Uint8Array.prototype.concat=function(data){for(var newarr=new Uint8Array(this.length+data.length),i=0;i<this.length;i++)newarr[i]=this[i];for(var i=0;i<data.length;i++)newarr[this.length+i]=data[i];return newarr},function(){function fillArray(value,start,end){if(void 0===start&&(start=0),void 0===end&&(end=this.length),start<0&&(start+=this.length),start<0&&(start=0),start>=this.length)return this;if(end<0&&(end+=this.length),end<0)return this;end>this.length&&(end=this.length);for(var i=start;i<end;i++)this[i]=value;return this}Array.prototype.fill=Array.prototype.fill||fillArray,Int8Array.prototype.fill=Int8Array.prototype.fill||fillArray,Int16Array.prototype.fill=Int16Array.prototype.fill||fillArray,Int32Array.prototype.fill=Int32Array.prototype.fill||fillArray,Uint8Array.prototype.fill=Uint8Array.prototype.fill||fillArray,Uint16Array.prototype.fill=Uint16Array.prototype.fill||fillArray,Uint32Array.prototype.fill=Uint32Array.prototype.fill||fillArray}();var NeoMap=function(){function NeoMap(){this._map=new Object,this._size=0}return Object.defineProperty(NeoMap.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),NeoMap.prototype.clear=function(){for(var key in this._map)delete this._map[key];this._size=0},NeoMap.prototype.delete=function(key){return!!this._map.hasOwnProperty(key)&&(this._size--,delete this._map[key])},NeoMap.prototype.forEach=function(callback){for(var key in this._map)callback(this._map[key],key,this)},NeoMap.prototype.get=function(key){return this._map[key]},NeoMap.prototype.has=function(key){return this._map.hasOwnProperty(key)},NeoMap.prototype.set=function(key,value){this._map.hasOwnProperty(key)||this._size++,this._map[key]=value},NeoMap}(),PromiseState;!function(PromiseState){PromiseState[PromiseState.pending=0]="pending",PromiseState[PromiseState.fulfilled=1]="fulfilled",PromiseState[PromiseState.rejected=2]="rejected"}(PromiseState||(PromiseState={}));var NeoPromise=function(){function NeoPromise(executor){this._state=PromiseState.pending,this._callback_attached=!1,null!=executor&&executor(this.resolve.bind(this),this.reject.bind(this))}return NeoPromise.all=function(iterable){return new NeoPromise(function(resolve,reject){if(0!=iterable.length)for(var results=new Array(iterable.length),rejected=!1,onFulfilled=function(result){results[this._tag]=result;for(var i=0;i<iterable.length;i++)if(iterable[i]._state!=PromiseState.fulfilled)return;resolve(results)},onRejected=function(reason){rejected||(rejected=!0,reject(reason))},i=0;i<iterable.length;i++)iterable[i]._tag=i,iterable[i].then(onFulfilled,onRejected);else resolve([])})},NeoPromise.prototype.catch=function(onRejected){return this.then(null,onRejected)},NeoPromise.prototype.checkState=function(){if(this._state!=PromiseState.pending&&this._callback_attached){var callback=this._state==PromiseState.fulfilled?this._onFulfilled:this._onRejected,arg=this._state==PromiseState.fulfilled?this._value:this._reason,value=void 0,reason=void 0;try{value=null==callback?this:callback.call(this,arg)}catch(ex){reason=ex}if(null==this._next_promise)return null!=reason?NeoPromise.reject(reason):value instanceof NeoPromise?value:NeoPromise.resolve(value);null!=reason?this._next_promise.reject(reason):value instanceof NeoPromise?value.then(this.resolve.bind(this._next_promise),this.reject.bind(this._next_promise)):this._next_promise.resolve(value)}},NeoPromise.prototype.reject=function(reason){this._state=PromiseState.rejected,this._reason=reason,this.checkState()},NeoPromise.reject=function(reason){return new NeoPromise(function(resolve,reject){return reject(reason)})},NeoPromise.prototype.resolve=function(value){this._state=PromiseState.fulfilled,this._value=value,this.checkState()},NeoPromise.resolve=function(value){return value instanceof NeoPromise?value:new NeoPromise(function(resolve,reject){return resolve(value)})},NeoPromise.prototype.then=function(onFulfilled,onRejected){return this._onFulfilled=onFulfilled,this._onRejected=onRejected,this._callback_attached=!0,this._state==PromiseState.pending?(this._next_promise=new NeoPromise(null),this._next_promise):this.checkState()},NeoPromise}(),Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,Neo,ThinNeo,ThinNeo,ThinNeo,ThinNeo,ThinNeo,ThinNeo,ThinNeo,ThinNeo,ThinNeo;!function(Neo){var _zero,Uint160=function(_super){function Uint160(value){var _this=this;if(null==value&&(value=new ArrayBuffer(20)),20!=value.byteLength)throw new RangeError;return _this=_super.call(this,new Uint32Array(value))||this}return __extends(Uint160,_super),Object.defineProperty(Uint160,"Zero",{get:function(){return _zero||(_zero=new Uint160)},enumerable:!0,configurable:!0}),Uint160.parse=function(str){if(40!=str.length)throw new RangeError;for(var x=str.hexToBytes(),y=new Uint8Array(x.length),i=0;i<y.length;i++)y[i]=x[x.length-i-1];return new Uint160(y.buffer)},Uint160}(Neo.UintVariable);Neo.Uint160=Uint160}(Neo||(Neo={})),function(Neo){var _zero,Uint256=function(_super){function Uint256(value){var _this=this;if(null==value&&(value=new ArrayBuffer(32)),32!=value.byteLength)throw new RangeError;return _this=_super.call(this,new Uint32Array(value))||this}return __extends(Uint256,_super),Object.defineProperty(Uint256,"Zero",{get:function(){return _zero||(_zero=new Uint256)},enumerable:!0,configurable:!0}),Uint256.parse=function(str){if(64!=str.length)throw new RangeError;for(var x=str.hexToBytes(),y=new Uint8Array(x.length),i=0;i<y.length;i++)y[i]=x[x.length-i-1];return new Uint256(y.buffer)},Uint256}(Neo.UintVariable);Neo.Uint256=Uint256}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var Aes=function(){function Aes(key,iv){this._Ke=[],this._Kd=[],this._lastCipherblock=new Uint8Array(16);var rounds=Aes.numberOfRounds[key.byteLength];if(null==rounds)throw new RangeError("invalid key size (must be length 16, 24 or 32)");if(16!=iv.byteLength)throw new RangeError("initialation vector iv must be of length 16");for(var i=0;i<=rounds;i++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var roundKeyCount=4*(rounds+1),KC=key.byteLength/4,tk=Aes.convertToInt32(Uint8Array.fromArrayBuffer(key)),index,i=0;i<KC;i++)index=i>>2,this._Ke[index][i%4]=tk[i],this._Kd[rounds-index][i%4]=tk[i];for(var rconpointer=0,t=KC,tt;t<roundKeyCount;){if(tt=tk[KC-1],tk[0]^=Aes.S[tt>>16&255]<<24^Aes.S[tt>>8&255]<<16^Aes.S[255&tt]<<8^Aes.S[tt>>24&255]^Aes.rcon[rconpointer]<<24,rconpointer+=1,8!=KC)for(var i=1;i<KC;i++)tk[i]^=tk[i-1];else{for(var i=1;i<KC/2;i++)tk[i]^=tk[i-1];tt=tk[KC/2-1],tk[KC/2]^=Aes.S[255&tt]^Aes.S[tt>>8&255]<<8^Aes.S[tt>>16&255]<<16^Aes.S[tt>>24&255]<<24;for(var i=KC/2+1;i<KC;i++)tk[i]^=tk[i-1]}for(var i=0;i<KC&&t<roundKeyCount;){var r_1=t>>2,c_1=t%4;this._Ke[r_1][c_1]=tk[i],this._Kd[rounds-r_1][c_1]=tk[i++],t++}}for(var r=1;r<rounds;r++)for(var c=0;c<4;c++)tt=this._Kd[r][c],this._Kd[r][c]=Aes.U1[tt>>24&255]^Aes.U2[tt>>16&255]^Aes.U3[tt>>8&255]^Aes.U4[255&tt];this._lastCipherblock.set(Uint8Array.fromArrayBuffer(iv))}return Object.defineProperty(Aes.prototype,"mode",{get:function(){return"CBC"},enumerable:!0,configurable:!0}),Aes.convertToInt32=function(bytes){for(var result=[],i=0;i<bytes.length;i+=4)result.push(bytes[i]<<24|bytes[i+1]<<16|bytes[i+2]<<8|bytes[i+3]);return result},Aes.prototype.decrypt=function(ciphertext){if(0==ciphertext.byteLength||ciphertext.byteLength%16!=0)throw new RangeError;for(var plaintext=new Uint8Array(ciphertext.byteLength),ciphertext_view=Uint8Array.fromArrayBuffer(ciphertext),i=0;i<ciphertext_view.length;i+=16)this.decryptBlock(ciphertext_view.subarray(i,i+16),plaintext.subarray(i,i+16));return plaintext.buffer.slice(0,plaintext.length-plaintext[plaintext.length-1])},Aes.prototype.decryptBlock=function(ciphertext,plaintext){if(16!=ciphertext.length||16!=plaintext.length)throw new RangeError;for(var rounds=this._Kd.length-1,a=[0,0,0,0],t=Aes.convertToInt32(ciphertext),i=0;i<4;i++)t[i]^=this._Kd[0][i];for(var r=1;r<rounds;r++){for(var i=0;i<4;i++)a[i]=Aes.T5[t[i]>>24&255]^Aes.T6[t[(i+3)%4]>>16&255]^Aes.T7[t[(i+2)%4]>>8&255]^Aes.T8[255&t[(i+1)%4]]^this._Kd[r][i];t=a.slice(0)}for(var i=0;i<4;i++){var tt=this._Kd[rounds][i];plaintext[4*i]=255&(Aes.Si[t[i]>>24&255]^tt>>24),plaintext[4*i+1]=255&(Aes.Si[t[(i+3)%4]>>16&255]^tt>>16),plaintext[4*i+2]=255&(Aes.Si[t[(i+2)%4]>>8&255]^tt>>8),plaintext[4*i+3]=255&(Aes.Si[255&t[(i+1)%4]]^tt)}for(var i=0;i<16;i++)plaintext[i]^=this._lastCipherblock[i];Array.copy(ciphertext,0,this._lastCipherblock,0,ciphertext.length)},Aes.prototype.encrypt=function(plaintext){for(var block_count=Math.ceil((plaintext.byteLength+1)/16),ciphertext=new Uint8Array(16*block_count),plaintext_view=Uint8Array.fromArrayBuffer(plaintext),i=0;i<block_count-1;i++)this.encryptBlock(plaintext_view.subarray(16*i,16*(i+1)),ciphertext.subarray(16*i,16*(i+1)));var padding=ciphertext.length-plaintext.byteLength,final_block=new Uint8Array(16);return final_block.fill(padding),padding<16&&Array.copy(plaintext_view,ciphertext.length-16,final_block,0,16-padding),this.encryptBlock(final_block,ciphertext.subarray(ciphertext.length-16)),ciphertext.buffer},Aes.prototype.encryptBlock=function(plaintext,ciphertext){if(16!=plaintext.length||16!=ciphertext.length)throw new RangeError;for(var precipherblock=new Uint8Array(plaintext.length),i=0;i<precipherblock.length;i++)precipherblock[i]=plaintext[i]^this._lastCipherblock[i];for(var rounds=this._Ke.length-1,a=[0,0,0,0],t=Aes.convertToInt32(precipherblock),i=0;i<4;i++)t[i]^=this._Ke[0][i];for(var r=1;r<rounds;r++){for(var i=0;i<4;i++)a[i]=Aes.T1[t[i]>>24&255]^Aes.T2[t[(i+1)%4]>>16&255]^Aes.T3[t[(i+2)%4]>>8&255]^Aes.T4[255&t[(i+3)%4]]^this._Ke[r][i];t=a.slice(0)}for(var i=0;i<4;i++){var tt=this._Ke[rounds][i];ciphertext[4*i]=255&(Aes.S[t[i]>>24&255]^tt>>24),ciphertext[4*i+1]=255&(Aes.S[t[(i+1)%4]>>16&255]^tt>>16),ciphertext[4*i+2]=255&(Aes.S[t[(i+2)%4]>>8&255]^tt>>8),ciphertext[4*i+3]=255&(Aes.S[255&t[(i+3)%4]]^tt)}Array.copy(ciphertext,0,this._lastCipherblock,0,ciphertext.length)},Aes.numberOfRounds={16:10,24:12,32:14},Aes.rcon=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Aes.S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Aes.Si=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Aes.T1=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Aes.T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Aes.T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Aes.T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Aes.T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Aes.T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Aes.T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Aes.T8=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Aes.U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Aes.U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Aes.U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Aes.U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],Aes}();Cryptography.Aes=Aes}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var Base58=function(){function Base58(){}return Base58.decode=function(input){for(var bi=Neo.BigInteger.Zero,i=input.length-1;i>=0;i--){var index=Base58.Alphabet.indexOf(input[i]);if(-1==index)throw new RangeError;bi=Neo.BigInteger.add(bi,Neo.BigInteger.multiply(Neo.BigInteger.pow(Base58.Alphabet.length,input.length-1-i),index))}for(var bytes=bi.toUint8Array(),leadingZeros=0,i=0;i<input.length&&input[i]==Base58.Alphabet[0];i++)leadingZeros++;for(var tmp=new Uint8Array(bytes.length+leadingZeros),i=0;i<bytes.length;i++)tmp[i+leadingZeros]=bytes[bytes.length-1-i];return tmp},Base58.encode=function(input){for(var value=Neo.BigInteger.fromUint8Array(input,1,!1),s="";!value.isZero();){var r=Neo.BigInteger.divRem(value,Base58.Alphabet.length);s=Base58.Alphabet[r.remainder.toInt32()]+s,value=r.result}for(var i=0;i<input.length&&0==input[i];i++)s=Base58.Alphabet[0]+s;return s},Base58.Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Base58}();Cryptography.Base58=Base58}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var CryptoKey=function(){function CryptoKey(type,extractable,algorithm,usages){this.type=type,this.extractable=extractable,this.algorithm=algorithm,this.usages=usages}return CryptoKey}();Cryptography.CryptoKey=CryptoKey;var AesCryptoKey=function(_super){function AesCryptoKey(_key_bytes){var _this=_super.call(this,"secret",!0,{name:"AES-CBC",length:8*_key_bytes.length},["encrypt","decrypt"])||this;return _this._key_bytes=_key_bytes,_this}return __extends(AesCryptoKey,_super),AesCryptoKey.create=function(length){if(128!=length&&192!=length&&256!=length)throw new RangeError;var key=new AesCryptoKey(new Uint8Array(length/8));return window.crypto.getRandomValues(key._key_bytes),key},AesCryptoKey.prototype.export=function(){return this._key_bytes},AesCryptoKey.import=function(keyData){if(16!=keyData.byteLength&&24!=keyData.byteLength&&32!=keyData.byteLength)throw new RangeError;return new AesCryptoKey(Uint8Array.fromArrayBuffer(keyData))},AesCryptoKey}(Neo.Cryptography.CryptoKey);Cryptography.AesCryptoKey=AesCryptoKey;var ECDsaCryptoKey=function(_super){function ECDsaCryptoKey(publicKey,privateKey){var _this=_super.call(this,null==privateKey?"public":"private",!0,{name:"ECDSA",namedCurve:"P-256"},[null==privateKey?"verify":"sign"])||this;return _this.publicKey=publicKey,_this.privateKey=privateKey,_this}return __extends(ECDsaCryptoKey,_super),ECDsaCryptoKey}(CryptoKey);Cryptography.ECDsaCryptoKey=ECDsaCryptoKey}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var _secp256k1,_secp256r1,ECCurve=function(){function ECCurve(Q,A,B,N,G){this.Q=Q,this.A=new Cryptography.ECFieldElement(A,this),this.B=new Cryptography.ECFieldElement(B,this),this.N=N,this.Infinity=new Cryptography.ECPoint(null,null,this),this.G=Cryptography.ECPoint.decodePoint(G,this)}return Object.defineProperty(ECCurve,"secp256k1",{get:function(){return _secp256k1||(_secp256k1=new ECCurve(Neo.BigInteger.fromString("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F",16),Neo.BigInteger.Zero,new Neo.BigInteger(7),Neo.BigInteger.fromString("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16),"0479BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8".hexToBytes()))},enumerable:!0,configurable:!0}),Object.defineProperty(ECCurve,"secp256r1",{get:function(){return _secp256r1||(_secp256r1=new ECCurve(Neo.BigInteger.fromString("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF",16),Neo.BigInteger.fromString("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC",16),Neo.BigInteger.fromString("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B",16),Neo.BigInteger.fromString("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551",16),"046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5".hexToBytes()))},enumerable:!0,configurable:!0}),ECCurve}();Cryptography.ECCurve=ECCurve}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var ECDsa=function(){function ECDsa(key){this.key=key}return ECDsa.calculateE=function(n,message){return Neo.BigInteger.fromUint8Array(new Uint8Array(Cryptography.Sha256.computeHash(message)),1,!1)},ECDsa.generateKey=function(curve){var prikey=new Uint8Array(32);window.crypto.getRandomValues(prikey);var pubkey=Cryptography.ECPoint.multiply(curve.G,prikey);return{privateKey:new Cryptography.ECDsaCryptoKey(pubkey,prikey),publicKey:new Cryptography.ECDsaCryptoKey(pubkey)}},ECDsa.prototype.sign=function(message){if(null==this.key.privateKey)throw new Error;var e=ECDsa.calculateE(this.key.publicKey.curve.N,message),d=Neo.BigInteger.fromUint8Array(this.key.privateKey,1,!1),r,s;do{var k=void 0;do{do{k=Neo.BigInteger.random(this.key.publicKey.curve.N.bitLength(),window.crypto)}while(0==k.sign()||k.compareTo(this.key.publicKey.curve.N)>=0);var p,x;r=Cryptography.ECPoint.multiply(this.key.publicKey.curve.G,k).x.value.mod(this.key.publicKey.curve.N)}while(0==r.sign());(s=k.modInverse(this.key.publicKey.curve.N).multiply(e.add(d.multiply(r))).mod(this.key.publicKey.curve.N)).compareTo(this.key.publicKey.curve.N.divide(2))>0&&(s=this.key.publicKey.curve.N.subtract(s))}while(0==s.sign());var arr=new Uint8Array(64);return Array.copy(r.toUint8Array(!1,32),0,arr,0,32),Array.copy(s.toUint8Array(!1,32),0,arr,32,32),arr.buffer},ECDsa.sumOfTwoMultiplies=function(P,k,Q,l){for(var m=Math.max(k.bitLength(),l.bitLength()),Z=Cryptography.ECPoint.add(P,Q),R=P.curve.Infinity,i=m-1;i>=0;--i)R=R.twice(),k.testBit(i)?R=l.testBit(i)?Cryptography.ECPoint.add(R,Z):Cryptography.ECPoint.add(R,P):l.testBit(i)&&(R=Cryptography.ECPoint.add(R,Q));return R},ECDsa.prototype.verify=function(message,signature){var arr=Uint8Array.fromArrayBuffer(signature),r=Neo.BigInteger.fromUint8Array(arr.subarray(0,32),1,!1),s=Neo.BigInteger.fromUint8Array(arr.subarray(32,64),1,!1);if(r.compareTo(this.key.publicKey.curve.N)>=0||s.compareTo(this.key.publicKey.curve.N)>=0)return!1;var e=ECDsa.calculateE(this.key.publicKey.curve.N,message),c=s.modInverse(this.key.publicKey.curve.N),u1=e.multiply(c).mod(this.key.publicKey.curve.N),u2=r.multiply(c).mod(this.key.publicKey.curve.N),point,v;return ECDsa.sumOfTwoMultiplies(this.key.publicKey.curve.G,u1,this.key.publicKey,u2).x.value.mod(this.key.publicKey.curve.N).equals(r)},ECDsa}();Cryptography.ECDsa=ECDsa}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var ECFieldElement=function(){function ECFieldElement(value,curve){if(this.value=value,this.curve=curve,Neo.BigInteger.compare(value,curve.Q)>=0)throw new RangeError("x value too large in field element")}return ECFieldElement.prototype.add=function(other){return new ECFieldElement(this.value.add(other.value).mod(this.curve.Q),this.curve)},ECFieldElement.prototype.compareTo=function(other){return this===other?0:this.value.compareTo(other.value)},ECFieldElement.prototype.divide=function(other){return new ECFieldElement(this.value.multiply(other.value.modInverse(this.curve.Q)).mod(this.curve.Q),this.curve)},ECFieldElement.prototype.equals=function(other){return this.value.equals(other.value)},ECFieldElement.fastLucasSequence=function(p,P,Q,k){var n=k.bitLength(),s=k.getLowestSetBit();console.assert(k.testBit(s));for(var Uh=Neo.BigInteger.One,Vl=new Neo.BigInteger(2),Vh=P,Ql=Neo.BigInteger.One,Qh=Neo.BigInteger.One,j=n-1;j>=s+1;--j)Ql=Neo.BigInteger.mod(Neo.BigInteger.multiply(Ql,Qh),p),k.testBit(j)?(Qh=Ql.multiply(Q).mod(p),Uh=Uh.multiply(Vh).mod(p),Vl=Vh.multiply(Vl).subtract(P.multiply(Ql)).mod(p),Vh=Vh.multiply(Vh).subtract(Qh.leftShift(1)).mod(p)):(Qh=Ql,Uh=Uh.multiply(Vl).subtract(Ql).mod(p),Vh=Vh.multiply(Vl).subtract(P.multiply(Ql)).mod(p),Vl=Vl.multiply(Vl).subtract(Ql.leftShift(1)).mod(p));Qh=(Ql=Ql.multiply(Qh).mod(p)).multiply(Q).mod(p),Uh=Uh.multiply(Vl).subtract(Ql).mod(p),Vl=Vh.multiply(Vl).subtract(P.multiply(Ql)).mod(p),Ql=Ql.multiply(Qh).mod(p);for(var j=1;j<=s;++j)Uh=Uh.multiply(Vl).multiply(p),Vl=Vl.multiply(Vl).subtract(Ql.leftShift(1)).mod(p),Ql=Ql.multiply(Ql).mod(p);return[Uh,Vl]},ECFieldElement.prototype.multiply=function(other){return new ECFieldElement(this.value.multiply(other.value).mod(this.curve.Q),this.curve)},ECFieldElement.prototype.negate=function(){return new ECFieldElement(this.value.negate().mod(this.curve.Q),this.curve)},ECFieldElement.prototype.sqrt=function(){if(this.curve.Q.testBit(1)){var z=new ECFieldElement(Neo.BigInteger.modPow(this.value,this.curve.Q.rightShift(2).add(1),this.curve.Q),this.curve);return z.square().equals(this)?z:null}var qMinusOne=this.curve.Q.subtract(1),legendreExponent=qMinusOne.rightShift(1);if(Neo.BigInteger.modPow(this.value,legendreExponent,this.curve.Q).equals(1))return null;var u,k=qMinusOne.rightShift(2).leftShift(1).add(1),Q=this.value,fourQ=Q.leftShift(2).mod(this.curve.Q),U,V;do{var P=void 0;do{P=Neo.BigInteger.random(this.curve.Q.bitLength())}while(P.compareTo(this.curve.Q)>=0||!Neo.BigInteger.modPow(P.multiply(P).subtract(fourQ),legendreExponent,this.curve.Q).equals(qMinusOne));var result=ECFieldElement.fastLucasSequence(this.curve.Q,P,Q,k);if(U=result[0],(V=result[1]).multiply(V).mod(this.curve.Q).equals(fourQ))return V.testBit(0)&&(V=V.add(this.curve.Q)),V=V.rightShift(1),console.assert(V.multiply(V).mod(this.curve.Q).equals(this.value)),new ECFieldElement(V,this.curve)}while(U.equals(Neo.BigInteger.One)||U.equals(qMinusOne));return null},ECFieldElement.prototype.square=function(){return new ECFieldElement(this.value.multiply(this.value).mod(this.curve.Q),this.curve)},ECFieldElement.prototype.subtract=function(other){return new ECFieldElement(this.value.subtract(other.value).mod(this.curve.Q),this.curve)},ECFieldElement}();Cryptography.ECFieldElement=ECFieldElement}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var ECPoint=function(){function ECPoint(x,y,curve){if(this.x=x,this.y=y,this.curve=curve,null==x!=(null==y))throw new RangeError("Exactly one of the field elements is null")}return ECPoint.add=function(x,y){if(x.isInfinity())return y;if(y.isInfinity())return x;if(x.x.equals(y.x))return x.y.equals(y.y)?x.twice():(console.assert(x.y.equals(y.y.negate())),x.curve.Infinity);var gamma=y.y.subtract(x.y).divide(y.x.subtract(x.x)),x3=gamma.square().subtract(x.x).subtract(y.x),y3;return new ECPoint(x3,gamma.multiply(x.x.subtract(x3)).subtract(x.y),x.curve)},ECPoint.prototype.compareTo=function(other){if(this===other)return 0;var result=this.x.compareTo(other.x);return 0!=result?result:this.y.compareTo(other.y)},ECPoint.decodePoint=function(encoded,curve){var p,expectedLength=Math.ceil(curve.Q.bitLength()/8);switch(encoded[0]){case 0:if(1!=encoded.length)throw new RangeError("Incorrect length for infinity encoding");p=curve.Infinity;break;case 2:case 3:if(encoded.length!=expectedLength+1)throw new RangeError("Incorrect length for compressed encoding");var yTilde=1&encoded[0],X1=Neo.BigInteger.fromUint8Array(encoded.subarray(1),1,!1);p=ECPoint.decompressPoint(yTilde,X1,curve);break;case 4:case 6:case 7:if(encoded.length!=2*expectedLength+1)throw new RangeError("Incorrect length for uncompressed/hybrid encoding");var X1=Neo.BigInteger.fromUint8Array(encoded.subarray(1,1+expectedLength),1,!1),Y1=Neo.BigInteger.fromUint8Array(encoded.subarray(1+expectedLength),1,!1);p=new ECPoint(new Cryptography.ECFieldElement(X1,curve),new Cryptography.ECFieldElement(Y1,curve),curve);break;default:throw new RangeError("Invalid point encoding "+encoded[0])}return p},ECPoint.decompressPoint=function(yTilde,X1,curve){var x=new Cryptography.ECFieldElement(X1,curve),alpha,beta=x.multiply(x.square().add(curve.A)).add(curve.B).sqrt();if(null==beta)throw new RangeError("Invalid point compression");var betaValue=beta.value,bit0;return(betaValue.isEven()?0:1)!=yTilde&&(beta=new Cryptography.ECFieldElement(curve.Q.subtract(betaValue),curve)),new ECPoint(x,beta,curve)},ECPoint.deserializeFrom=function(reader,curve){var expectedLength=Math.floor((curve.Q.bitLength()+7)/8),array=new Uint8Array(1+2*expectedLength);switch(array[0]=reader.readByte(),array[0]){case 0:return curve.Infinity;case 2:case 3:return reader.read(array.buffer,1,expectedLength),ECPoint.decodePoint(new Uint8Array(array.buffer,0,33),curve);case 4:case 6:case 7:return reader.read(array.buffer,1,2*expectedLength),ECPoint.decodePoint(array,curve);default:throw new Error("Invalid point encoding "+array[0])}},ECPoint.prototype.encodePoint=function(commpressed){if(this.isInfinity())return new Uint8Array(1);var data;if(commpressed)data=new Uint8Array(33);else{data=new Uint8Array(65);for(var yBytes=this.y.value.toUint8Array(),i=0;i<yBytes.length;i++)data[65-yBytes.length+i]=yBytes[yBytes.length-1-i]}for(var xBytes=this.x.value.toUint8Array(),i=0;i<xBytes.length;i++)data[33-xBytes.length+i]=xBytes[xBytes.length-1-i];return data[0]=commpressed?this.y.value.isEven()?2:3:4,data},ECPoint.prototype.equals=function(other){return this===other||null!==other&&(!(!this.isInfinity||!other.isInfinity)||!this.isInfinity&&!other.isInfinity&&(this.x.equals(other.x)&&this.y.equals(other.y)))},ECPoint.fromUint8Array=function(arr,curve){switch(arr.length){case 33:case 65:return ECPoint.decodePoint(arr,curve);case 64:case 72:var arr_new;return(arr_new=new Uint8Array(65))[0]=4,arr_new.set(arr.subarray(arr.length-64),1),ECPoint.decodePoint(arr_new,curve);case 96:case 104:var arr_new;return(arr_new=new Uint8Array(65))[0]=4,arr_new.set(arr.subarray(arr.length-96,arr.length-32),1),ECPoint.decodePoint(arr_new,curve);default:throw new RangeError}},ECPoint.prototype.isInfinity=function(){return null==this.x&&null==this.y},ECPoint.multiply=function(p,n){var k=n instanceof Uint8Array?Neo.BigInteger.fromUint8Array(n,1,!1):n;if(p.isInfinity())return p;if(k.isZero())return p.curve.Infinity;var m=k.bitLength(),width,reqPreCompLen;m<13?(width=2,reqPreCompLen=1):m<41?(width=3,reqPreCompLen=2):m<121?(width=4,reqPreCompLen=4):m<337?(width=5,reqPreCompLen=8):m<897?(width=6,reqPreCompLen=16):m<2305?(width=7,reqPreCompLen=32):(width=8,reqPreCompLen=127);var preCompLen=1,preComp=[p],twiceP=p.twice();if(1<reqPreCompLen){var oldPreComp=preComp;preComp=new Array(reqPreCompLen);for(var i=0;i<1;i++)preComp[i]=oldPreComp[i];for(var i=1;i<reqPreCompLen;i++)preComp[i]=ECPoint.add(twiceP,preComp[i-1])}for(var wnaf=ECPoint.windowNaf(width,k),l=wnaf.length,q=p.curve.Infinity,i=l-1;i>=0;i--)q=q.twice(),0!=wnaf[i]&&(q=wnaf[i]>0?ECPoint.add(q,preComp[Math.floor((wnaf[i]-1)/2)]):ECPoint.subtract(q,preComp[Math.floor((-wnaf[i]-1)/2)]));return q},ECPoint.prototype.negate=function(){return new ECPoint(this.x,this.y.negate(),this.curve)},ECPoint.parse=function(str,curve){return ECPoint.decodePoint(str.hexToBytes(),curve)},ECPoint.subtract=function(x,y){return y.isInfinity()?x:ECPoint.add(x,y.negate())},ECPoint.prototype.toString=function(){return this.encodePoint(!0).toHexString()},ECPoint.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.value.sign())return this.curve.Infinity;var TWO=new Cryptography.ECFieldElement(new Neo.BigInteger(2),this.curve),THREE=new Cryptography.ECFieldElement(new Neo.BigInteger(3),this.curve),gamma=this.x.square().multiply(THREE).add(this.curve.A).divide(this.y.multiply(TWO)),x3=gamma.square().subtract(this.x.multiply(TWO)),y3;return new ECPoint(x3,gamma.multiply(this.x.subtract(x3)).subtract(this.y),this.curve)},ECPoint.windowNaf=function(width,k){for(var wnaf=new Array(k.bitLength()+1),pow2wB=1<<width,i=0,length=0;k.sign()>0;){if(k.isEven())wnaf[i]=0;else{var remainder=Neo.BigInteger.remainder(k,pow2wB);remainder.testBit(width-1)?wnaf[i]=Neo.BigInteger.subtract(remainder,pow2wB).toInt32():wnaf[i]=remainder.toInt32(),k=k.subtract(wnaf[i]),length=i}k=k.rightShift(1),i++}return wnaf.length=length+1,wnaf},ECPoint}();Cryptography.ECPoint=ECPoint}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var RandomNumberGenerator=function(){function RandomNumberGenerator(){}return RandomNumberGenerator.addEntropy=function(data,strength){if(!RandomNumberGenerator._stopped){for(var i=0;i<data.length;i++)null!=data[i]&&0!=data[i]&&(RandomNumberGenerator._entropy.push(data[i]),RandomNumberGenerator._strength+=strength,RandomNumberGenerator._key=null);RandomNumberGenerator._strength>=512&&RandomNumberGenerator.stopCollectors()}},RandomNumberGenerator.getRandomValues=function(array){if(RandomNumberGenerator._strength<256)throw new Error;if(null==RandomNumberGenerator._key){var data=new Float64Array(RandomNumberGenerator._entropy);RandomNumberGenerator._key=new Uint8Array(Cryptography.Sha256.computeHash(data))}for(var aes=new Cryptography.Aes(RandomNumberGenerator._key,RandomNumberGenerator.getWeakRandomValues(16)),src=new Uint8Array(16),dst=new Uint8Array(array.buffer,array.byteOffset,array.byteLength),i=0;i<dst.length;i+=16)aes.encryptBlock(RandomNumberGenerator.getWeakRandomValues(16),src),Array.copy(src,0,dst,i,Math.min(dst.length-i,16));return array},RandomNumberGenerator.getWeakRandomValues=function(array){for(var buffer="number"==typeof array?new Uint8Array(array):array,i=0;i<buffer.length;i++)buffer[i]=256*Math.random();return buffer},RandomNumberGenerator.processDeviceMotionEvent=function(event){RandomNumberGenerator.addEntropy([event.accelerationIncludingGravity.x,event.accelerationIncludingGravity.y,event.accelerationIncludingGravity.z],1),RandomNumberGenerator.processEvent(event)},RandomNumberGenerator.processEvent=function(event){window.performance&&window.performance.now?RandomNumberGenerator.addEntropy([window.performance.now()],20):RandomNumberGenerator.addEntropy([event.timeStamp],2)},RandomNumberGenerator.processMouseEvent=function(event){RandomNumberGenerator.addEntropy([event.clientX,event.clientY,event.offsetX,event.offsetY,event.screenX,event.screenY],4),RandomNumberGenerator.processEvent(event)},RandomNumberGenerator.processTouchEvent=function(event){for(var touches=event.changedTouches||event.touches,i=0;i<touches.length;i++)RandomNumberGenerator.addEntropy([touches[i].clientX,touches[i].clientY,touches[i].radiusX,touches[i].radiusY,touches[i].force],1);RandomNumberGenerator.processEvent(event)},RandomNumberGenerator.startCollectors=function(){RandomNumberGenerator._started||(window.addEventListener("load",RandomNumberGenerator.processEvent,!1),window.addEventListener("mousemove",RandomNumberGenerator.processMouseEvent,!1),window.addEventListener("keypress",RandomNumberGenerator.processEvent,!1),window.addEventListener("devicemotion",RandomNumberGenerator.processDeviceMotionEvent,!1),window.addEventListener("touchmove",RandomNumberGenerator.processTouchEvent,!1),RandomNumberGenerator._started=!0)},RandomNumberGenerator.stopCollectors=function(){RandomNumberGenerator._stopped||(window.removeEventListener("load",RandomNumberGenerator.processEvent,!1),window.removeEventListener("mousemove",RandomNumberGenerator.processMouseEvent,!1),window.removeEventListener("keypress",RandomNumberGenerator.processEvent,!1),window.removeEventListener("devicemotion",RandomNumberGenerator.processDeviceMotionEvent,!1),window.removeEventListener("touchmove",RandomNumberGenerator.processTouchEvent,!1),RandomNumberGenerator._stopped=!0)},RandomNumberGenerator._entropy=[],RandomNumberGenerator._strength=0,RandomNumberGenerator._started=!1,RandomNumberGenerator._stopped=!1,RandomNumberGenerator}();Cryptography.RandomNumberGenerator=RandomNumberGenerator}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){String.prototype.base58Decode=function(){return Cryptography.Base58.decode(this)},String.prototype.base64UrlDecode=function(){for(var str=window.atob(this.replace(/-/g,"+").replace(/_/g,"/")),arr=new Uint8Array(str.length),i=0;i<str.length;i++)arr[i]=str.charCodeAt(i);return arr},String.prototype.toAesKey=function(){for(var utf8=unescape(encodeURIComponent(this)),codes=new Uint8Array(utf8.length),i=0;i<codes.length;i++)codes[i]=utf8.charCodeAt(i);return window.crypto.subtle.digest({name:"SHA-256"},codes).then(function(result){return window.crypto.subtle.digest({name:"SHA-256"},result)})},Uint8Array.prototype.base58Encode=function(){return Cryptography.Base58.encode(this)},Uint8Array.prototype.base64UrlEncode=function(){var str=String.fromCharCode.apply(null,this);return(str=window.btoa(str)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};var getAlgorithmName=function(algorithm){return"string"==typeof algorithm?algorithm:algorithm.name},w=window;function hook_ripemd160(){var digest_old=window.crypto.subtle.digest;window.crypto.subtle.digest=function(algorithm,data){return"RIPEMD-160"!=getAlgorithmName(algorithm)?digest_old.call(window.crypto.subtle,algorithm,data):new NeoPromise(function(resolve,reject){try{resolve(Cryptography.RIPEMD160.computeHash(data))}catch(e){reject(e)}})}}function hook_ecdsa(){var exportKey_old=window.crypto.subtle.exportKey;window.crypto.subtle.exportKey=function(format,key){return"ECDSA"!=key.algorithm.name?exportKey_old.call(window.crypto.subtle,format,key):new NeoPromise(function(resolve,reject){var k=key;if("jwk"!=format||"P-256"!=k.algorithm.namedCurve)reject(new RangeError);else try{"private"==k.type?resolve({crv:k.algorithm.namedCurve,d:k.privateKey.base64UrlEncode(),ext:!0,key_ops:k.usages,kty:"EC",x:k.publicKey.x.value.toUint8Array(!1,32).base64UrlEncode(),y:k.publicKey.y.value.toUint8Array(!1,32).base64UrlEncode()}):resolve({crv:k.algorithm.namedCurve,ext:!0,key_ops:k.usages,kty:"EC",x:k.publicKey.x.value.toUint8Array(!1,32).base64UrlEncode(),y:k.publicKey.y.value.toUint8Array(!1,32).base64UrlEncode()})}catch(e){reject(e)}})};var generateKey_old=window.crypto.subtle.generateKey;window.crypto.subtle.generateKey=function(algorithm,extractable,keyUsages){return"ECDSA"!=getAlgorithmName(algorithm)?generateKey_old.call(window.crypto.subtle,algorithm,extractable,keyUsages):new NeoPromise(function(resolve,reject){if("P-256"!=algorithm.namedCurve)reject(new RangeError);else try{resolve(Cryptography.ECDsa.generateKey(Cryptography.ECCurve.secp256r1))}catch(e){reject(e)}})};var importKey_old=window.crypto.subtle.importKey;window.crypto.subtle.importKey=function(format,keyData,algorithm,extractable,keyUsages){return"ECDSA"!=getAlgorithmName(algorithm)?importKey_old.call(window.crypto.subtle,format,keyData,algorithm,extractable,keyUsages):new NeoPromise(function(resolve,reject){if("jwk"!=format||"P-256"!=algorithm.namedCurve)reject(new RangeError);else try{var k=keyData,x=k.x.base64UrlDecode(),y=k.y.base64UrlDecode(),arr=new Uint8Array(65);arr[0]=4,Array.copy(x,0,arr,1,32),Array.copy(y,0,arr,33,32);var pubkey=Cryptography.ECPoint.decodePoint(arr,Cryptography.ECCurve.secp256r1);k.d?resolve(new Cryptography.ECDsaCryptoKey(pubkey,k.d.base64UrlDecode())):resolve(new Cryptography.ECDsaCryptoKey(pubkey))}catch(e){reject(e)}})};var sign_old=window.crypto.subtle.sign;window.crypto.subtle.sign=function(algorithm,key,data){return"ECDSA"!=getAlgorithmName(algorithm)?sign_old.call(window.crypto.subtle,algorithm,key,data):new NeoPromise(function(resolve,reject){if("SHA-256"!=algorithm.hash.name||"ECDSA"!=key.algorithm.name)reject(new RangeError);else try{var ecdsa;resolve(new Cryptography.ECDsa(key).sign(data))}catch(e){reject(e)}})};var verify_old=window.crypto.subtle.verify;window.crypto.subtle.verify=function(algorithm,key,signature,data){return"ECDSA"!=getAlgorithmName(algorithm)?verify_old.call(window.crypto.subtle,algorithm,key,signature,data):new NeoPromise(function(resolve,reject){if("SHA-256"!=algorithm.hash.name||"ECDSA"!=key.algorithm.name)reject(new RangeError);else try{var ecdsa;resolve(new Cryptography.ECDsa(key).verify(data,signature))}catch(e){reject(e)}})}}null==window.crypto&&(window.crypto={subtle:null,getRandomValues:null}),null==window.crypto.getRandomValues&&(w.msCrypto?w.crypto.getRandomValues=function(array){return w.msCrypto.getRandomValues(array)}:(Cryptography.RandomNumberGenerator.startCollectors(),window.crypto.getRandomValues=Cryptography.RandomNumberGenerator.getRandomValues)),w.crypto.subtle=window.crypto.subtle||w.crypto.webkitSubtle,null==window.crypto.subtle&&w.msCrypto&&(window.crypto.subtle={decrypt:function(a,b,c){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.decrypt(a,b,c);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},deriveBits:function(a,b,c){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.deriveBits(a,b,c);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},deriveKey:function(a,b,c,d,e){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.deriveKey(a,b,c,d,e);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},digest:function(a,b){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.digest(a,b);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},encrypt:function(a,b,c){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.encrypt(a,b,c);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},exportKey:function(a,b){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.exportKey(a,b);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},generateKey:function(a,b,c){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.generateKey(a,b,c);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},importKey:function(a,b,c,d,e){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.importKey(a,b,c,d,e);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},sign:function(a,b,c){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.sign(a,b,c);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},unwrapKey:function(a,b,c,d,e,f,g){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.unwrapKey(a,b,c,d,e,f,g);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},verify:function(a,b,c,d){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.verify(a,b,c,d);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})},wrapKey:function(a,b,c,d){return new NeoPromise(function(resolve,reject){var op=w.msCrypto.subtle.wrapKey(a,b,c,d);op.oncomplete=function(){return resolve(op.result)},op.onerror=function(e){return reject(e)}})}}),null==window.crypto.subtle&&(window.crypto.subtle={decrypt:function(algorithm,key,data){return new NeoPromise(function(resolve,reject){if("string"!=typeof algorithm&&"AES-CBC"==algorithm.name&&algorithm.iv&&16==algorithm.iv.byteLength&&data.byteLength%16==0)try{var aes;resolve(new Cryptography.Aes(key.export(),algorithm.iv).decrypt(data))}catch(e){reject(e)}else reject(new RangeError)})},deriveBits:null,deriveKey:null,digest:function(algorithm,data){return new NeoPromise(function(resolve,reject){if("SHA-256"==getAlgorithmName(algorithm))try{resolve(Cryptography.Sha256.computeHash(data))}catch(e){reject(e)}else reject(new RangeError)})},encrypt:function(algorithm,key,data){return new NeoPromise(function(resolve,reject){if("string"!=typeof algorithm&&"AES-CBC"==algorithm.name&&algorithm.iv&&16==algorithm.iv.byteLength)try{var aes;resolve(new Cryptography.Aes(key.export(),algorithm.iv).encrypt(data))}catch(e){reject(e)}else reject(new RangeError)})},exportKey:function(format,key){return new NeoPromise(function(resolve,reject){if("jwk"==format&&key instanceof Cryptography.AesCryptoKey)try{var k=key;resolve({alg:"A256CBC",ext:!0,k:k.export().base64UrlEncode(),key_ops:k.usages,kty:"oct"})}catch(e){reject(e)}else reject(new RangeError)})},generateKey:function(algorithm,extractable,keyUsages){return new NeoPromise(function(resolve,reject){if("string"==typeof algorithm||"AES-CBC"!=algorithm.name||128!=algorithm.length&&192!=algorithm.length&&256!=algorithm.length)reject(new RangeError);else try{resolve(Cryptography.AesCryptoKey.create(algorithm.length))}catch(e){reject(e)}})},importKey:function(format,keyData,algorithm,extractable,keyUsages){return new NeoPromise(function(resolve,reject){if("raw"!=format&&"jwk"!=format||"AES-CBC"!=getAlgorithmName(algorithm))reject(new RangeError);else try{"jwk"==format&&(keyData=keyData.k.base64UrlDecode()),resolve(Cryptography.AesCryptoKey.import(keyData))}catch(e){reject(e)}})},sign:null,unwrapKey:null,verify:null,wrapKey:null}),hook_ripemd160();try{window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"]).catch(hook_ecdsa)}catch(ex){hook_ecdsa()}}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var RIPEMD160=function(){function RIPEMD160(){}return RIPEMD160.bytesToWords=function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},RIPEMD160.wordsToBytes=function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},RIPEMD160.processBlock=function(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er,t;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];for(var i=0;i<80;i+=1)t=al+M[offset+RIPEMD160.zl[i]]|0,t+=i<16?RIPEMD160.f1(bl,cl,dl)+RIPEMD160.hl[0]:i<32?RIPEMD160.f2(bl,cl,dl)+RIPEMD160.hl[1]:i<48?RIPEMD160.f3(bl,cl,dl)+RIPEMD160.hl[2]:i<64?RIPEMD160.f4(bl,cl,dl)+RIPEMD160.hl[3]:RIPEMD160.f5(bl,cl,dl)+RIPEMD160.hl[4],t|=0,t=(t=RIPEMD160.rotl(t,RIPEMD160.sl[i]))+el|0,al=el,el=dl,dl=RIPEMD160.rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+RIPEMD160.zr[i]]|0,t+=i<16?RIPEMD160.f5(br,cr,dr)+RIPEMD160.hr[0]:i<32?RIPEMD160.f4(br,cr,dr)+RIPEMD160.hr[1]:i<48?RIPEMD160.f3(br,cr,dr)+RIPEMD160.hr[2]:i<64?RIPEMD160.f2(br,cr,dr)+RIPEMD160.hr[3]:RIPEMD160.f1(br,cr,dr)+RIPEMD160.hr[4],t|=0,t=(t=RIPEMD160.rotl(t,RIPEMD160.sr[i]))+er|0,ar=er,er=dr,dr=RIPEMD160.rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t},RIPEMD160.f1=function(x,y,z){return x^y^z},RIPEMD160.f2=function(x,y,z){return x&y|~x&z},RIPEMD160.f3=function(x,y,z){return(x|~y)^z},RIPEMD160.f4=function(x,y,z){return x&z|y&~z},RIPEMD160.f5=function(x,y,z){return x^(y|~z)},RIPEMD160.rotl=function(x,n){return x<<n|x>>>32-n},RIPEMD160.computeHash=function(data){var H=[1732584193,4023233417,2562383102,271733878,3285377520],m=RIPEMD160.bytesToWords(Uint8Array.fromArrayBuffer(data)),nBitsLeft=8*data.byteLength,nBitsTotal=8*data.byteLength;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[14+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)RIPEMD160.processBlock(H,m,i);for(var i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=RIPEMD160.wordsToBytes(H);return new Uint8Array(digestbytes).buffer},RIPEMD160.zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],RIPEMD160.zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],RIPEMD160.sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],RIPEMD160.sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],RIPEMD160.hl=[0,1518500249,1859775393,2400959708,2840853838],RIPEMD160.hr=[1352829926,1548603684,1836072691,2053994217,0],RIPEMD160}();Cryptography.RIPEMD160=RIPEMD160}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var Cryptography;!function(Cryptography){var Sha256=function(){function Sha256(){}return Sha256.computeHash=function(data){for(var H=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=data.byteLength/4+2,N=Math.ceil(l/16),M=new Array(N),view=Uint8Array.fromArrayBuffer(data),i=0;i<N;i++){M[i]=new Uint32Array(16);for(var j=0;j<16;j++)M[i][j]=view[64*i+4*j]<<24|view[64*i+4*j+1]<<16|view[64*i+4*j+2]<<8|view[64*i+4*j+3]}M[Math.floor(data.byteLength/4/16)][Math.floor(data.byteLength/4)%16]|=128<<8*(3-data.byteLength%4),M[N-1][14]=8*data.byteLength/Math.pow(2,32),M[N-1][15]=8*data.byteLength&4294967295;for(var W=new Uint32Array(64),a,b,c,d,e,f,g,h,i=0;i<N;i++){for(var t=0;t<16;t++)W[t]=M[i][t];for(var t=16;t<64;t++)W[t]=Sha256.1(W[t-2])+W[t-7]+Sha256.0(W[t-15])+W[t-16]&4294967295;a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],f=H[5],g=H[6],h=H[7];for(var t=0;t<64;t++){var T1=h+Sha256.1(e)+Sha256.Ch(e,f,g)+Sha256.K[t]+W[t],T2=Sha256.0(a)+Sha256.Maj(a,b,c);h=g,g=f,f=e,e=d+T1&4294967295,d=c,c=b,b=a,a=T1+T2&4294967295}H[0]=H[0]+a&4294967295,H[1]=H[1]+b&4294967295,H[2]=H[2]+c&4294967295,H[3]=H[3]+d&4294967295,H[4]=H[4]+e&4294967295,H[5]=H[5]+f&4294967295,H[6]=H[6]+g&4294967295,H[7]=H[7]+h&4294967295}for(var result=new Uint8Array(32),i=0;i<H.length;i++)result[4*i+0]=H[i]>>>24&255,result[4*i+1]=H[i]>>>16&255,result[4*i+2]=H[i]>>>8&255,result[4*i+3]=H[i]>>>0&255;return result.buffer},Sha256.ROTR=function(n,x){return x>>>n|x<<32-n},Sha256.0=function(x){return Sha256.ROTR(2,x)^Sha256.ROTR(13,x)^Sha256.ROTR(22,x)},Sha256.1=function(x){return Sha256.ROTR(6,x)^Sha256.ROTR(11,x)^Sha256.ROTR(25,x)},Sha256.0=function(x){return Sha256.ROTR(7,x)^Sha256.ROTR(18,x)^x>>>3},Sha256.1=function(x){return Sha256.ROTR(17,x)^Sha256.ROTR(19,x)^x>>>10},Sha256.Ch=function(x,y,z){return x&y^~x&z},Sha256.Maj=function(x,y,z){return x&y^x&z^y&z},Sha256.K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Sha256}();Cryptography.Sha256=Sha256}(Cryptography=Neo.Cryptography||(Neo.Cryptography={}))}(Neo||(Neo={})),function(Neo){var IO;!function(IO){var BinaryReader=function(){function BinaryReader(input){this.input=input,this._buffer=new ArrayBuffer(8)}return BinaryReader.prototype.canRead=function(){return this.input.length()-this.input.position()},BinaryReader.prototype.close=function(){},BinaryReader.prototype.fillBuffer=function(buffer,count){for(var i=0;count>0;){var actual_count=this.input.read(buffer,0,count);if(0==actual_count)throw new Error("EOF");i+=actual_count,count-=actual_count}},BinaryReader.prototype.read=function(buffer,index,count){return this.input.read(buffer,index,count)},BinaryReader.prototype.readBoolean=function(){return 0!=this.readByte()},BinaryReader.prototype.readByte=function(){return this.fillBuffer(this._buffer,1),null==this.array_uint8&&(this.array_uint8=new Uint8Array(this._buffer,0,1)),this.array_uint8[0]},BinaryReader.prototype.readBytes=function(count){var buffer=new ArrayBuffer(count);return this.fillBuffer(buffer,count),buffer},BinaryReader.prototype.readDouble=function(){return this.fillBuffer(this._buffer,8),null==this.array_float64&&(this.array_float64=new Float64Array(this._buffer,0,1)),this.array_float64[0]},BinaryReader.prototype.readFixed8=function(){return new Neo.Fixed8(this.readUint64())},BinaryReader.prototype.readInt16=function(){return this.fillBuffer(this._buffer,2),null==this.array_int16&&(this.array_int16=new Int16Array(this._buffer,0,1)),this.array_int16[0]},BinaryReader.prototype.readInt32=function(){return this.fillBuffer(this._buffer,4),null==this.array_int32&&(this.array_int32=new Int32Array(this._buffer,0,1)),this.array_int32[0]},BinaryReader.prototype.readSByte=function(){return this.fillBuffer(this._buffer,1),null==this.array_int8&&(this.array_int8=new Int8Array(this._buffer,0,1)),this.array_int8[0]},BinaryReader.prototype.readSerializable=function(T){var obj=new T;return obj.deserialize(this),obj},BinaryReader.prototype.readSerializableArray=function(T){for(var array=new Array(this.readVarInt(268435456)),i=0;i<array.length;i++)array[i]=this.readSerializable(T);return array},BinaryReader.prototype.readSingle=function(){return this.fillBuffer(this._buffer,4),null==this.array_float32&&(this.array_float32=new Float32Array(this._buffer,0,1)),this.array_float32[0]},BinaryReader.prototype.readUint16=function(){return this.fillBuffer(this._buffer,2),null==this.array_uint16&&(this.array_uint16=new Uint16Array(this._buffer,0,1)),this.array_uint16[0]},BinaryReader.prototype.readUint160=function(){return new Neo.Uint160(this.readBytes(20))},BinaryReader.prototype.readUint256=function(){return new Neo.Uint256(this.readBytes(32))},BinaryReader.prototype.readUint32=function(){return this.fillBuffer(this._buffer,4),null==this.array_uint32&&(this.array_uint32=new Uint32Array(this._buffer,0,1)),this.array_uint32[0]},BinaryReader.prototype.readUint64=function(){return this.fillBuffer(this._buffer,8),null==this.array_uint32&&(this.array_uint32=new Uint32Array(this._buffer,0,2)),new Neo.Uint64(this.array_uint32[0],this.array_uint32[1])},BinaryReader.prototype.readVarBytes=function(max){return void 0===max&&(max=2147483591),this.readBytes(this.readVarInt(max))},BinaryReader.prototype.readVarInt=function(max){void 0===max&&(max=9007199254740991);var fb=this.readByte(),value;if((value=253==fb?this.readUint16():254==fb?this.readUint32():255==fb?this.readUint64().toNumber():fb)>max)throw new RangeError;return value},BinaryReader.prototype.readVarString=function(){return decodeURIComponent(escape(String.fromCharCode.apply(null,new Uint8Array(this.readVarBytes()))))},BinaryReader}();IO.BinaryReader=BinaryReader}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),function(Neo){var IO;!function(IO){var BinaryWriter=function(){function BinaryWriter(output){this.output=output,this._buffer=new ArrayBuffer(8)}return BinaryWriter.prototype.close=function(){},BinaryWriter.prototype.seek=function(offset,origin){return this.output.seek(offset,origin)},BinaryWriter.prototype.write=function(buffer,index,count){void 0===index&&(index=0),void 0===count&&(count=buffer.byteLength-index),this.output.write(buffer,index,count)},BinaryWriter.prototype.writeBoolean=function(value){this.writeByte(value?255:0)},BinaryWriter.prototype.writeByte=function(value){null==this.array_uint8&&(this.array_uint8=new Uint8Array(this._buffer,0,1)),this.array_uint8[0]=value,this.output.write(this._buffer,0,1)},BinaryWriter.prototype.writeDouble=function(value){null==this.array_float64&&(this.array_float64=new Float64Array(this._buffer,0,1)),this.array_float64[0]=value,this.output.write(this._buffer,0,8)},BinaryWriter.prototype.writeInt16=function(value){null==this.array_int16&&(this.array_int16=new Int16Array(this._buffer,0,1)),this.array_int16[0]=value,this.output.write(this._buffer,0,2)},BinaryWriter.prototype.writeInt32=function(value){null==this.array_int32&&(this.array_int32=new Int32Array(this._buffer,0,1)),this.array_int32[0]=value,this.output.write(this._buffer,0,4)},BinaryWriter.prototype.writeSByte=function(value){null==this.array_int8&&(this.array_int8=new Int8Array(this._buffer,0,1)),this.array_int8[0]=value,this.output.write(this._buffer,0,1)},BinaryWriter.prototype.writeSerializableArray=function(array){this.writeVarInt(array.length);for(var i=0;i<array.length;i++)array[i].serialize(this)},BinaryWriter.prototype.writeSingle=function(value){null==this.array_float32&&(this.array_float32=new Float32Array(this._buffer,0,1)),this.array_float32[0]=value,this.output.write(this._buffer,0,4)},BinaryWriter.prototype.writeUint16=function(value){null==this.array_uint16&&(this.array_uint16=new Uint16Array(this._buffer,0,1)),this.array_uint16[0]=value,this.output.write(this._buffer,0,2)},BinaryWriter.prototype.writeUint32=function(value){null==this.array_uint32&&(this.array_uint32=new Uint32Array(this._buffer,0,1)),this.array_uint32[0]=value,this.output.write(this._buffer,0,4)},BinaryWriter.prototype.writeUint64=function(value){this.writeUintVariable(value)},BinaryWriter.prototype.writeUintVariable=function(value){this.write(value.bits.buffer)},BinaryWriter.prototype.writeVarBytes=function(value){this.writeVarInt(value.byteLength),this.output.write(value,0,value.byteLength)},BinaryWriter.prototype.writeVarInt=function(value){if(value<0)throw new RangeError;value<253?this.writeByte(value):value<=65535?(this.writeByte(253),this.writeUint16(value)):value<=4294967295?(this.writeByte(254),this.writeUint32(value)):(this.writeByte(255),this.writeUint32(value),this.writeUint32(value/Math.pow(2,32)))},BinaryWriter.prototype.writeVarString=function(value){value=unescape(encodeURIComponent(value));for(var codes=new Uint8Array(value.length),i=0;i<codes.length;i++)codes[i]=value.charCodeAt(i);this.writeVarBytes(codes.buffer)},BinaryWriter}();IO.BinaryWriter=BinaryWriter}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),Uint8Array.prototype.asSerializable=function(T){var ms=new Neo.IO.MemoryStream(this.buffer,!1),reader;return new Neo.IO.BinaryReader(ms).readSerializable(T)},Uint8Array.fromSerializable=function(obj){var ms=new Neo.IO.MemoryStream,writer=new Neo.IO.BinaryWriter(ms);return obj.serialize(writer),new Uint8Array(ms.toArray())},function(Neo){var IO;!function(IO){var SeekOrigin;!function(SeekOrigin){SeekOrigin[SeekOrigin.Begin=0]="Begin",SeekOrigin[SeekOrigin.Current=1]="Current",SeekOrigin[SeekOrigin.End=2]="End"}(SeekOrigin=IO.SeekOrigin||(IO.SeekOrigin={}));var Stream=function(){function Stream(){this._array=new Uint8Array(1)}return Stream.prototype.close=function(){},Stream.prototype.readByte=function(){return 0==this.read(this._array.buffer,0,1)?-1:this._array[0]},Stream.prototype.writeByte=function(value){if(value<0||value>255)throw new RangeError;this._array[0]=value,this.write(this._array.buffer,0,1)},Stream}();IO.Stream=Stream}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),function(Neo){var IO;!function(IO){var BufferSize=1024,MemoryStream=function(_super){function MemoryStream(){var _this=_super.call(this)||this;if(_this._buffers=new Array,_this._origin=0,_this._position=0,0==arguments.length)_this._length=0,_this._capacity=0,_this._expandable=!0,_this._writable=!0;else if(1==arguments.length&&"number"==typeof arguments[0])_this._length=0,_this._capacity=arguments[0],_this._expandable=!0,_this._writable=!0,_this._buffers.push(new ArrayBuffer(_this._capacity));else{var buffer=arguments[0];if(_this._buffers.push(buffer),_this._expandable=!1,1==arguments.length)_this._writable=!1,_this._length=buffer.byteLength;else if("boolean"==typeof arguments[1])_this._writable=arguments[1],_this._length=buffer.byteLength;else if(_this._origin=arguments[1],_this._length=arguments[2],_this._writable=4==arguments.length&&arguments[3],_this._origin<0||_this._origin+_this._length>buffer.byteLength)throw new RangeError;_this._capacity=_this._length}return _this}return __extends(MemoryStream,_super),MemoryStream.prototype.canRead=function(){return!0},MemoryStream.prototype.canSeek=function(){return!0},MemoryStream.prototype.canWrite=function(){return this._writable},MemoryStream.prototype.capacity=function(){return this._capacity},MemoryStream.prototype.findBuffer=function(position){var iBuff,pBuff,firstSize=null==this._buffers[0]?1024:this._buffers[0].byteLength;return position<firstSize?(iBuff=0,pBuff=position):(iBuff=Math.floor((position-firstSize)/1024)+1,pBuff=(position-firstSize)%1024),{iBuff:iBuff,pBuff:pBuff}},MemoryStream.prototype.length=function(){return this._length},MemoryStream.prototype.position=function(){return this._position},MemoryStream.prototype.read=function(buffer,offset,count){return this._position+count>this._length&&(count=this._length-this._position),this.readInternal(new Uint8Array(buffer,offset,count),this._position),this._position+=count,count},MemoryStream.prototype.readInternal=function(dst,srcPos){if(this._expandable)for(var i=0,count=dst.length,d=this.findBuffer(srcPos);count>0;){var actual_count=void 0;if(null==this._buffers[d.iBuff])actual_count=Math.min(count,1024-d.pBuff),dst.fill(0,i,i+actual_count);else{actual_count=Math.min(count,this._buffers[d.iBuff].byteLength-d.pBuff);var src=new Uint8Array(this._buffers[d.iBuff]);Array.copy(src,d.pBuff,dst,i,actual_count)}i+=actual_count,count-=actual_count,d.iBuff++,d.pBuff=0}else{var src=new Uint8Array(this._buffers[0],this._origin,this._length);Array.copy(src,srcPos,dst,0,dst.length)}},MemoryStream.prototype.seek=function(offset,origin){switch(origin){case IO.SeekOrigin.Begin:break;case IO.SeekOrigin.Current:offset+=this._position;break;case IO.SeekOrigin.End:offset+=this._length;break;default:throw new RangeError}if(offset<0||offset>this._length)throw new RangeError;return this._position=offset,offset},MemoryStream.prototype.setLength=function(value){if(value<0||value!=this._length&&!this._writable||value>this._capacity&&!this._expandable)throw new RangeError;this._length=value,this._position>this._length&&(this._position=this._length),this._capacity<this._length&&(this._capacity=this._length)},MemoryStream.prototype.toArray=function(){if(1==this._buffers.length&&0==this._origin&&this._length==this._buffers[0].byteLength)return this._buffers[0];var bw=new Uint8Array(this._length);return this.readInternal(bw,0),bw.buffer},MemoryStream.prototype.write=function(buffer,offset,count){if(!this._writable||!this._expandable&&this._capacity-this._position<count)throw new Error;if(this._expandable)for(var src=new Uint8Array(buffer),d=this.findBuffer(this._position);count>0;){null==this._buffers[d.iBuff]&&(this._buffers[d.iBuff]=new ArrayBuffer(1024));var actual_count=Math.min(count,this._buffers[d.iBuff].byteLength-d.pBuff),dst=new Uint8Array(this._buffers[d.iBuff]);Array.copy(src,offset,dst,d.pBuff,actual_count),this._position+=actual_count,offset+=actual_count,count-=actual_count,d.iBuff++,d.pBuff=0}else{var src=new Uint8Array(buffer,offset,count),dst=new Uint8Array(this._buffers[0],this._origin,this._capacity);Array.copy(src,0,dst,this._position,count),this._position+=count}this._length<this._position&&(this._length=this._position),this._capacity<this._length&&(this._capacity=this._length)},MemoryStream}(IO.Stream);IO.MemoryStream=MemoryStream}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),function(Neo){var IO;!function(IO){var Caching;!function(Caching){var TrackState;!function(TrackState){TrackState[TrackState.None=0]="None",TrackState[TrackState.Added=1]="Added",TrackState[TrackState.Changed=2]="Changed",TrackState[TrackState.Deleted=3]="Deleted"}(TrackState=Caching.TrackState||(Caching.TrackState={}))}(Caching=IO.Caching||(IO.Caching={}))}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),function(Neo){var IO;!function(IO){var Caching;!function(Caching){var TrackableCollection=function(){function TrackableCollection(items){if(this._map=new NeoMap,null!=items)for(var i=0;i<items.length;i++)this._map.set(items[i].key,items[i]),items[i].trackState=Caching.TrackState.None}return TrackableCollection.prototype.add=function(item){this._map.set(item.key,item),item.trackState=Caching.TrackState.Added},TrackableCollection.prototype.clear=function(){this._map.forEach(function(value,key,map){value.trackState==Caching.TrackState.Added?map.delete(key):value.trackState=Caching.TrackState.Deleted})},TrackableCollection.prototype.commit=function(){this._map.forEach(function(value,key,map){value.trackState==Caching.TrackState.Deleted?map.delete(key):value.trackState=Caching.TrackState.None})},TrackableCollection.prototype.forEach=function(callback){var _this=this;this._map.forEach(function(value,key){callback(value,key,_this)})},TrackableCollection.prototype.get=function(key){return this._map.get(key)},TrackableCollection.prototype.getChangeSet=function(){var array=new Array;return this._map.forEach(function(value){value.trackState!=Caching.TrackState.None&&array.push(value)}),array},TrackableCollection.prototype.has=function(key){return this._map.has(key)},TrackableCollection.prototype.remove=function(key){var item=this._map.get(key);item.trackState==Caching.TrackState.Added?this._map.delete(key):item.trackState=Caching.TrackState.Deleted},TrackableCollection}();Caching.TrackableCollection=TrackableCollection}(Caching=IO.Caching||(IO.Caching={}))}(IO=Neo.IO||(Neo.IO={}))}(Neo||(Neo={})),function(ThinNeo){var contract=function(){function contract(){this.parameters=[{name:"parameter0",type:"Signature"}],this.deployed=!1}return contract}();ThinNeo.contract=contract;var nep6account=function(){function nep6account(){}return nep6account.prototype.getPrivateKey=function(scrypt,password,callback){var _this=this,cb=function(i,r){if("finish"==i){var bytes=r,pkey=ThinNeo.Helper.GetPublicKeyFromPrivateKey(bytes),address;ThinNeo.Helper.GetAddressFromPublicKey(pkey)==_this.address?callback(i,r):callback("error","checkerror")}else callback(i,r)};ThinNeo.Helper.GetPrivateKeyFromNep2(this.nep2key,password,scrypt.N,scrypt.r,scrypt.p,cb)},nep6account}();ThinNeo.nep6account=nep6account;var nep6ScryptParameters=function(){function nep6ScryptParameters(){}return nep6ScryptParameters}();ThinNeo.nep6ScryptParameters=nep6ScryptParameters;var nep6wallet=function(){function nep6wallet(){}return nep6wallet.prototype.fromJsonStr=function(jsonstr){var json=JSON.parse(jsonstr);this.scrypt=new nep6ScryptParameters,this.scrypt.N=json.scrypt.n,this.scrypt.r=json.scrypt.r,this.scrypt.p=json.scrypt.p,this.accounts=[];for(var i=0;i<json.accounts.length;i++){var acc=json.accounts[i],localacc=new nep6account;if(localacc.address=acc.address,localacc.nep2key=acc.key,localacc.contract=acc.contract,null==localacc.contract||null==localacc.contract.script)localacc.nep2key=null;else{var ss=localacc.contract.script.hexToBytes();35==ss.length&&33==ss[0]&&172==ss[34]||(localacc.nep2key=null)}null==acc.key&&(localacc.nep2key=null),this.accounts.push(localacc)}},nep6wallet.prototype.toJson=function(){var obj={name:null,version:"1.0"};obj.scrypt={n:this.scrypt.N,r:this.scrypt.r,p:this.scrypt.p};for(var accounts=[],i=0;i<this.accounts.length;i++){var acc=this.accounts[0],jsonacc={};jsonacc.address=acc.address,jsonacc.label=null,jsonacc.isDefault=!1,jsonacc.lock=!1,jsonacc.key=acc.nep2key,jsonacc.extra=null,jsonacc.contract=acc.contract,accounts.push(jsonacc)}return obj.accounts=accounts,obj.extra=null,obj},nep6wallet}();ThinNeo.nep6wallet=nep6wallet}(ThinNeo||(ThinNeo={})),function(ThinNeo){var Base64=function(){function Base64(){}return Base64.init=function(){if(!Base64.binited){Base64.lookup=[],Base64.revLookup=[];for(var i=0,len=Base64.code.length;i<len;++i)Base64.lookup[i]=Base64.code[i],Base64.revLookup[Base64.code.charCodeAt(i)]=i;Base64.revLookup["-".charCodeAt(0)]=62,Base64.revLookup["_".charCodeAt(0)]=63,Base64.binited=!0}},Base64.placeHoldersCount=function(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0},Base64.byteLength=function(b64){return 3*b64.length/4-Base64.placeHoldersCount(b64)},Base64.toByteArray=function(b64){var i,l,tmp,placeHolders,arr;Base64.init();var len=b64.length;placeHolders=Base64.placeHoldersCount(b64),arr=new Uint8Array(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4)tmp=Base64.revLookup[b64.charCodeAt(i)]<<18|Base64.revLookup[b64.charCodeAt(i+1)]<<12|Base64.revLookup[b64.charCodeAt(i+2)]<<6|Base64.revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=Base64.revLookup[b64.charCodeAt(i)]<<2|Base64.revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=Base64.revLookup[b64.charCodeAt(i)]<<10|Base64.revLookup[b64.charCodeAt(i+1)]<<4|Base64.revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr},Base64.tripletToBase64=function(num){return Base64.lookup[num>>18&63]+Base64.lookup[num>>12&63]+Base64.lookup[num>>6&63]+Base64.lookup[63&num]},Base64.encodeChunk=function(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(Base64.tripletToBase64(tmp));return output.join("")},Base64.fromByteArray=function(uint8){var tmp;Base64.init();for(var len=uint8.length,extraBytes=len%3,output="",parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(Base64.encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=Base64.lookup[tmp>>2],output+=Base64.lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=Base64.lookup[tmp>>10],output+=Base64.lookup[tmp>>4&63],output+=Base64.lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")},Base64.lookup=[],Base64.revLookup=[],Base64.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Base64.binited=!1,Base64}();ThinNeo.Base64=Base64}(ThinNeo||(ThinNeo={})),function(ThinNeo){var ScriptBuilder=function(){function ScriptBuilder(){this.Offset=0,this.writer=[]}return ScriptBuilder.prototype._WriteUint8=function(num){this.writer.push(num),this.Offset++},ScriptBuilder.prototype._WriteUint16=function(num){var buf=new Uint8Array(2),d;new DataView(buf.buffer,0,2).setUint16(0,num,!0),this.writer.push(buf[0]),this.writer.push(buf[1]),this.Offset+=2},ScriptBuilder.prototype._WriteUint32=function(num){var buf=new Uint8Array(4),d;new DataView(buf.buffer,0,4).setUint32(0,num,!0),this.writer.push(buf[0]),this.writer.push(buf[1]),this.writer.push(buf[2]),this.writer.push(buf[3]),this.Offset+=4},ScriptBuilder.prototype._WriteUint8Array=function(nums){for(var i=0;i<nums.length;i++)this.writer.push(nums[i]);this.Offset+=nums.length},ScriptBuilder.prototype._ConvertInt16ToBytes=function(num){var buf=new Uint8Array(2),d;return new DataView(buf.buffer,0,2).setInt16(0,num,!0),buf},ScriptBuilder.prototype.Emit=function(op,arg){return void 0===arg&&(arg=null),this._WriteUint8(op),null!=arg&&this._WriteUint8Array(arg),this},ScriptBuilder.prototype.EmitAppCall=function(scriptHash,useTailCall){void 0===useTailCall&&(useTailCall=!1);var hash=null;if(scriptHash instanceof Neo.Uint160)hash=new Uint8Array(scriptHash.bits.buffer);else{if(20!=scriptHash.length)throw new Error("error scriptHash length");hash=scriptHash}return this.Emit(useTailCall?ThinNeo.OpCode.TAILCALL:ThinNeo.OpCode.APPCALL,hash)},ScriptBuilder.prototype.EmitJump=function(op,offset){if(op!=ThinNeo.OpCode.JMP&&op!=ThinNeo.OpCode.JMPIF&&op!=ThinNeo.OpCode.JMPIFNOT&&op!=ThinNeo.OpCode.CALL)throw new Error("ArgumentException");return this.Emit(op,this._ConvertInt16ToBytes(offset))},ScriptBuilder.prototype.EmitPushNumber=function(number){var i32=number.toInt32();return-1==i32?this.Emit(ThinNeo.OpCode.PUSHM1):0==i32?this.Emit(ThinNeo.OpCode.PUSH0):i32>0&&i32<=16?this.Emit(ThinNeo.OpCode.PUSH1-1+i32):this.EmitPushBytes(number.toUint8ArrayWithSign(!0))},ScriptBuilder.prototype.EmitPushBool=function(data){return this.Emit(data?ThinNeo.OpCode.PUSHT:ThinNeo.OpCode.PUSHF)},ScriptBuilder.prototype.EmitPushBytes=function(data){if(null==data)throw new Error("ArgumentNullException");return data.length<=ThinNeo.OpCode.PUSHBYTES75?(this._WriteUint8(data.length),this._WriteUint8Array(data)):data.length<256?(this.Emit(ThinNeo.OpCode.PUSHDATA1),this._WriteUint8(data.length),this._WriteUint8Array(data)):data.length<65536?(this.Emit(ThinNeo.OpCode.PUSHDATA2),this._WriteUint16(data.length),this._WriteUint8Array(data)):(this.Emit(ThinNeo.OpCode.PUSHDATA4),this._WriteUint32(data.length),this._WriteUint8Array(data)),this},ScriptBuilder.prototype.EmitPushString=function(data){return this.EmitPushBytes(ThinNeo.Helper.String2Bytes(data))},ScriptBuilder.prototype.EmitSysCall=function(api){if(null==api)throw new Error("ArgumentNullException");var api_bytes=ThinNeo.Helper.String2Bytes(api);if(0==api_bytes.length||api_bytes.length>252)throw new Error("ArgumentException");var arg=new Uint8Array(api_bytes.length+1);arg[0]=api_bytes.length;for(var i=0;i<api_bytes.length;i++)arg[i+1]=api_bytes[i];return this.Emit(ThinNeo.OpCode.SYSCALL,arg)},ScriptBuilder.prototype.ToArray=function(){for(var array=new Uint8Array(this.writer.length),i=0;i<this.writer.length;i++)array[i]=this.writer[i];return array},ScriptBuilder.prototype.EmitParamJson=function(param){if("number"==typeof param)this.EmitPushNumber(new Neo.BigInteger(param));else if("boolean"==typeof param)this.EmitPushBool(param);else if("object"==typeof param){for(var list=param,i=list.length-1;i>=0;i--)this.EmitParamJson(list[i]);this.EmitPushNumber(new Neo.BigInteger(list.length)),this.Emit(ThinNeo.OpCode.PACK)}else{if("string"!=typeof param)throw new Error("error type:"+typeof param);var str=param;if("("!=str[0])throw new Error("must start with:(str) or (hex) or (hexrev) or (addr)or(int)");if(0==str.indexOf("(string)")&&this.EmitPushString(str.substr(8)),0==str.indexOf("(str)"))this.EmitPushString(str.substr(5));else if(0==str.indexOf("(bytes)")){var hex=str.substr(7).hexToBytes();this.EmitPushBytes(hex)}else if(0==str.indexOf("([])")){var hex=str.substr(4).hexToBytes();this.EmitPushBytes(hex)}else if(0==str.indexOf("(address)")){var addr=str.substr(9),hex=ThinNeo.Helper.GetPublicKeyScriptHash_FromAddress(addr);this.EmitPushBytes(hex)}else if(0==str.indexOf("(addr)")){var addr=str.substr(6),hex=ThinNeo.Helper.GetPublicKeyScriptHash_FromAddress(addr);this.EmitPushBytes(hex)}else if(0==str.indexOf("(integer)")){var num=new Neo.BigInteger(str.substr(9));this.EmitPushNumber(num)}else if(0==str.indexOf("(int)")){var num=new Neo.BigInteger(str.substr(5));this.EmitPushNumber(num)}else if(0==str.indexOf("(hexinteger)")){var hex=str.substr(12).hexToBytes();this.EmitPushBytes(hex.reverse())}else if(0==str.indexOf("(hexint)")){var hex=str.substr(8).hexToBytes();this.EmitPushBytes(hex.reverse())}else if(0==str.indexOf("(hex)")){var hex=str.substr(5).hexToBytes();this.EmitPushBytes(hex.reverse())}else if(0==str.indexOf("(int256)")||0==str.indexOf("(hex256)")){var hex;if(32!=(hex=str.substr(8).hexToBytes()).length)throw new Error("not a int256");this.EmitPushBytes(hex.reverse())}else{if(0!=str.indexOf("(int160)")&&0!=str.indexOf("(hex160)"))throw new Error("must start with:(str) or (hex) or (hexbig) or (addr) or(int)");var hex;if(20!=(hex=str.substr(8).hexToBytes()).length)throw new Error("not a int160");this.EmitPushBytes(hex.reverse())}}return this},ScriptBuilder}();ThinNeo.ScriptBuilder=ScriptBuilder}(ThinNeo||(ThinNeo={})),function(ThinNeo){var scrypt_loaded=!1,Helper=function(){function Helper(){}return Helper.GetPrivateKeyFromWIF=function(wif){if(null==wif)throw new Error("null wif");var data=Neo.Cryptography.Base58.decode(wif),privateKey;if(38!=data.length||128!=data[0]||1!=data[33])throw new Error("wif length or tag is error");for(var sum=data.subarray(data.length-4,data.length),realdata=data.subarray(0,data.length-4),_checksum=Neo.Cryptography.Sha256.computeHash(realdata),checksum,sumcalc=new Uint8Array(Neo.Cryptography.Sha256.computeHash(_checksum)).subarray(0,4),i=0;i<4;i++)if(sum[i]!=sumcalc[i])throw new Error("the sum is not match.");return data.subarray(1,33)},Helper.GetWifFromPrivateKey=function(prikey){var data=new Uint8Array(38),wif;data[0]=128,data[33]=1;for(var i=0;i<32;i++)data[i+1]=prikey[i];for(var realdata=data.subarray(0,data.length-4),_checksum=Neo.Cryptography.Sha256.computeHash(realdata),checksum=new Uint8Array(Neo.Cryptography.Sha256.computeHash(_checksum)),i=0;i<4;i++)data[34+i]=checksum[i];return Neo.Cryptography.Base58.encode(data)},Helper.GetPublicKeyFromPrivateKey=function(privateKey){var pkey;return Neo.Cryptography.ECPoint.multiply(Neo.Cryptography.ECCurve.secp256r1.G,privateKey).encodePoint(!0)},Helper.Hash160=function(data){var hash1=Neo.Cryptography.Sha256.computeHash(data),hash2=Neo.Cryptography.RIPEMD160.computeHash(hash1);return new Uint8Array(hash2)},Helper.GetAddressCheckScriptFromPublicKey=function(publicKey){var script=new Uint8Array(publicKey.length+2);script[0]=publicKey.length;for(var i=0;i<publicKey.length;i++)script[i+1]=publicKey[i];return script[script.length-1]=172,script},Helper.GetPublicKeyScriptHashFromPublicKey=function(publicKey){var script=Helper.GetAddressCheckScriptFromPublicKey(publicKey),scripthash=Neo.Cryptography.Sha256.computeHash(script);return scripthash=Neo.Cryptography.RIPEMD160.computeHash(scripthash),new Uint8Array(scripthash)},Helper.GetScriptHashFromScript=function(script){var scripthash=Neo.Cryptography.Sha256.computeHash(script);return scripthash=Neo.Cryptography.RIPEMD160.computeHash(scripthash),new Uint8Array(scripthash)},Helper.GetAddressFromScriptHash=function(scripthash){var script_hash;script_hash=scripthash instanceof Neo.Uint160?new Uint8Array(scripthash.bits.buffer):scripthash;var data=new Uint8Array(script_hash.length+1);data[0]=23;for(var i=0;i<script_hash.length;i++)data[i+1]=script_hash[i];var hash=Neo.Cryptography.Sha256.computeHash(data);hash=Neo.Cryptography.Sha256.computeHash(hash);for(var hashu8=new Uint8Array(hash,0,4),alldata=new Uint8Array(data.length+4),i=0;i<data.length;i++)alldata[i]=data[i];for(var i=0;i<4;i++)alldata[data.length+i]=hashu8[i];return Neo.Cryptography.Base58.encode(alldata)},Helper.GetAddressFromPublicKey=function(publicKey){var scripthash=Helper.GetPublicKeyScriptHashFromPublicKey(publicKey);return Helper.GetAddressFromScriptHash(scripthash)},Helper.GetPublicKeyScriptHash_FromAddress=function(address){for(var array=Neo.Cryptography.Base58.decode(address),salt=array.subarray(0,1),hash=array.subarray(1,21),check=array.subarray(21,25),checkdata=array.subarray(0,21),hashd=Neo.Cryptography.Sha256.computeHash(checkdata),hashd=(hashd=Neo.Cryptography.Sha256.computeHash(hashd)).slice(0,4),checked=new Uint8Array(hashd),i=0;i<4;i++)if(checked[i]!=check[i])throw new Error("the sum is not match.");return hash.clone()},Helper.Sign=function(message,privateKey){var PublicKey=Neo.Cryptography.ECPoint.multiply(Neo.Cryptography.ECCurve.secp256r1.G,privateKey),pubkey=PublicKey.encodePoint(!1).subarray(1,64),key=new Neo.Cryptography.ECDsaCryptoKey(PublicKey,privateKey),ecdsa=new Neo.Cryptography.ECDsa(key);return new Uint8Array(ecdsa.sign(message))},Helper.VerifySignature=function(message,signature,pubkey){var PublicKey=Neo.Cryptography.ECPoint.decodePoint(pubkey,Neo.Cryptography.ECCurve.secp256r1),usepk=PublicKey.encodePoint(!1).subarray(1,64),key=new Neo.Cryptography.ECDsaCryptoKey(PublicKey),ecdsa;return new Neo.Cryptography.ECDsa(key).verify(message,signature)},Helper.String2Bytes=function(str){for(var back=[],byteSize=0,i=0;i<str.length;i++){var code=str.charCodeAt(i);0<=code&&code<=127?(byteSize+=1,back.push(code)):128<=code&&code<=2047?(byteSize+=2,back.push(192|31&code>>6),back.push(128|63&code)):(2048<=code&&code<=55295||57344<=code&&code<=65535)&&(byteSize+=3,back.push(224|15&code>>12),back.push(128|63&code>>6),back.push(128|63&code))}var uarr=new Uint8Array(back.length);for(i=0;i<back.length;i++)uarr[i]=255&back[i];return uarr},Helper.Bytes2String=function(_arr){for(var UTF="",i=0;i<_arr.length;i++){var one=_arr[i].toString(2),v=one.match(/^1+?(?=0)/);if(v&&8==one.length){for(var bytesLength=v[0].length,store=_arr[i].toString(2).slice(7-bytesLength),st=1;st<bytesLength;st++)store+=_arr[st+i].toString(2).slice(2);UTF+=String.fromCharCode(parseInt(store,2)),i+=bytesLength-1}else UTF+=String.fromCharCode(_arr[i])}return UTF},Helper.Aes256Encrypt=function(src,key){var srcs=CryptoJS.enc.Utf8.parse(src),keys=CryptoJS.enc.Utf8.parse(key),encryptedkey;return CryptoJS.AES.encrypt(srcs,keys,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.NoPadding}).ciphertext.toString()},Helper.Aes256Encrypt_u8=function(src,key){var srcs=CryptoJS.enc.Utf8.parse("1234123412341234");srcs.sigBytes=src.length,srcs.words=new Array(src.length/4);for(var i=0;i<src.length/4;i++)srcs.words[i]=src[4*i+3]+256*src[4*i+2]+256*src[4*i+1]*256+256*src[4*i+0]*256*256;var keys=CryptoJS.enc.Utf8.parse("1234123412341234"),encryptedkey,str;keys.sigBytes=key.length,keys.words=new Array(key.length/4);for(var i=0;i<key.length/4;i++)keys.words[i]=key[4*i+3]+256*key[4*i+2]+256*key[4*i+1]*256+256*key[4*i+0]*256*256;return CryptoJS.AES.encrypt(srcs,keys,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.NoPadding}).ciphertext.toString().hexToBytes()},Helper.Aes256Decrypt_u8=function(encryptedkey,key){var keys=CryptoJS.enc.Utf8.parse("1234123412341234");keys.sigBytes=key.length,keys.words=new Array(key.length/4);for(var i=0;i<key.length/4;i++)keys.words[i]=key[4*i+3]+256*key[4*i+2]+256*key[4*i+1]*256+256*key[4*i+0]*256*256;var base64key=ThinNeo.Base64.fromByteArray(encryptedkey),srcs,str;return CryptoJS.AES.decrypt(base64key,keys,{mode:CryptoJS.mode.ECB,padding:CryptoJS.pad.NoPadding}).toString().hexToBytes()},Helper.GetNep2FromPrivateKey=function(prikey,passphrase,n,r,p,callback){void 0===n&&(n=16384),void 0===r&&(r=8),void 0===p&&(p=8);var pp=scrypt.getAvailableMod();scrypt.setResPath("lib/asmjs");var addresshash=null,ready=function(){var param={N:n,r:r,P:p},opt={maxPassLen:32,maxSaltLen:32,maxDkLen:64,maxThread:4};try{scrypt.config(param,opt)}catch(err){console.warn("config err: ",err)}};scrypt.onload=function(){console.log("scrypt.onload"),scrypt_loaded=!0,ready()},scrypt.onerror=function(err){console.warn("scrypt err:",err),callback("error",err)},scrypt.oncomplete=function(dk){console.log("done",scrypt.binToHex(dk));for(var u8dk=new Uint8Array(dk),derivedhalf1=u8dk.subarray(0,32),derivedhalf2=u8dk.subarray(32,64),u8xor=new Uint8Array(32),i=0;i<32;i++)u8xor[i]=prikey[i]^derivedhalf1[i];var encryptedkey=Helper.Aes256Encrypt_u8(u8xor,derivedhalf2),buffer=new Uint8Array(39);buffer[0]=1,buffer[1]=66,buffer[2]=224;for(var i=3;i<7;i++)buffer[i]=addresshash[i-3];for(var i=7;i<39;i++)buffer[i]=encryptedkey[i-7];var b1=Neo.Cryptography.Sha256.computeHash(buffer);b1=Neo.Cryptography.Sha256.computeHash(b1);for(var u8hash=new Uint8Array(b1),outbuf=new Uint8Array(43),i=0;i<39;i++)outbuf[i]=buffer[i];for(var i=39;i<43;i++)outbuf[i]=u8hash[i-39];var base58str=Neo.Cryptography.Base58.encode(outbuf);callback("finish",base58str)},scrypt.onprogress=function(percent){console.log("onprogress")},scrypt.onready=function(){var pubkey=Helper.GetPublicKeyFromPrivateKey(prikey),script_hash=Helper.GetPublicKeyScriptHashFromPublicKey(pubkey),address=Helper.GetAddressFromScriptHash(script_hash),addrbin=scrypt.strToBin(address),b1=Neo.Cryptography.Sha256.computeHash(addrbin);b1=Neo.Cryptography.Sha256.computeHash(b1);var b2=new Uint8Array(b1);addresshash=b2.subarray(0,4);var passbin=scrypt.strToBin(passphrase);scrypt.hash(passbin,addresshash,64)},0==scrypt_loaded?scrypt.load("lib/asmjs"):ready()},Helper.GetPrivateKeyFromNep2=function(nep2,passphrase,n,r,p,callback){void 0===n&&(n=16384),void 0===r&&(r=8),void 0===p&&(p=8);var data=Neo.Cryptography.Base58.decode(nep2);if(43==data.length)if(1==data[0]&&66==data[1]&&224==data[2]){var hash=data.subarray(39,43),buffer=data.subarray(0,39),b1=Neo.Cryptography.Sha256.computeHash(buffer);b1=Neo.Cryptography.Sha256.computeHash(b1);for(var u8hash=new Uint8Array(b1),i=0;i<4;i++)if(u8hash[i]!=hash[i])return void callback("error","data hash error");var addresshash=buffer.subarray(3,7),encryptedkey=buffer.subarray(7,39),pp=scrypt.getAvailableMod();scrypt.setResPath("lib/asmjs");var ready=function(){var param={N:n,r:r,P:p},opt={maxPassLen:32,maxSaltLen:32,maxDkLen:64,maxThread:4};try{scrypt.config(param,opt)}catch(err){console.warn("config err: ",err)}};scrypt.onload=function(){console.log("scrypt.onload"),scrypt_loaded=!0,ready()},scrypt.oncomplete=function(dk){console.log("done",scrypt.binToHex(dk));for(var u8dk=new Uint8Array(dk),derivedhalf1=u8dk.subarray(0,32),derivedhalf2=u8dk.subarray(32,64),u8xor=Helper.Aes256Decrypt_u8(encryptedkey,derivedhalf2),prikey=new Uint8Array(u8xor.length),i=0;i<32;i++)prikey[i]=u8xor[i]^derivedhalf1[i];var pubkey=Helper.GetPublicKeyFromPrivateKey(prikey),script_hash=Helper.GetPublicKeyScriptHashFromPublicKey(pubkey),address=Helper.GetAddressFromScriptHash(script_hash),addrbin=scrypt.strToBin(address),b1=Neo.Cryptography.Sha256.computeHash(addrbin);b1=Neo.Cryptography.Sha256.computeHash(b1);for(var b2=new Uint8Array(b1),addresshashgot=b2.subarray(0,4),i=0;i<4;i++)if(addresshash[i]!=b2[i])return void callback("error","nep2 hash not match.");callback("finish",prikey)},scrypt.onerror=function(err){console.warn("scrypt err:",err),callback("error",err)},scrypt.onprogress=function(percent){console.log("onprogress")},scrypt.onready=function(){var passbin=scrypt.strToBin(passphrase);scrypt.hash(passbin,addresshash,64)},0==scrypt_loaded?scrypt.load("lib/asmjs"):ready()}else callback("error","dataheader error");else callback("error","data.length error")},Helper}();ThinNeo.Helper=Helper}(ThinNeo||(ThinNeo={})),function(ThinNeo){var TransactionType,TransactionAttributeUsage;!function(TransactionType){TransactionType[TransactionType.MinerTransaction=0]="MinerTransaction",TransactionType[TransactionType.IssueTransaction=1]="IssueTransaction",TransactionType[TransactionType.ClaimTransaction=2]="ClaimTransaction",TransactionType[TransactionType.EnrollmentTransaction=32]="EnrollmentTransaction",TransactionType[TransactionType.RegisterTransaction=64]="RegisterTransaction",TransactionType[TransactionType.ContractTransaction=128]="ContractTransaction",TransactionType[TransactionType.PublishTransaction=208]="PublishTransaction",TransactionType[TransactionType.InvocationTransaction=209]="InvocationTransaction"}(TransactionType=ThinNeo.TransactionType||(ThinNeo.TransactionType={})),function(TransactionAttributeUsage){TransactionAttributeUsage[TransactionAttributeUsage.ContractHash=0]="ContractHash",TransactionAttributeUsage[TransactionAttributeUsage.ECDH02=2]="ECDH02",TransactionAttributeUsage[TransactionAttributeUsage.ECDH03=3]="ECDH03",TransactionAttributeUsage[TransactionAttributeUsage.Script=32]="Script",TransactionAttributeUsage[TransactionAttributeUsage.Vote=48]="Vote",TransactionAttributeUsage[TransactionAttributeUsage.DescriptionUrl=129]="DescriptionUrl",TransactionAttributeUsage[TransactionAttributeUsage.Description=144]="Description",TransactionAttributeUsage[TransactionAttributeUsage.Hash1=161]="Hash1",TransactionAttributeUsage[TransactionAttributeUsage.Hash2=162]="Hash2",TransactionAttributeUsage[TransactionAttributeUsage.Hash3=163]="Hash3",TransactionAttributeUsage[TransactionAttributeUsage.Hash4=164]="Hash4",TransactionAttributeUsage[TransactionAttributeUsage.Hash5=165]="Hash5",TransactionAttributeUsage[TransactionAttributeUsage.Hash6=166]="Hash6",TransactionAttributeUsage[TransactionAttributeUsage.Hash7=167]="Hash7",TransactionAttributeUsage[TransactionAttributeUsage.Hash8=168]="Hash8",TransactionAttributeUsage[TransactionAttributeUsage.Hash9=169]="Hash9",TransactionAttributeUsage[TransactionAttributeUsage.Hash10=170]="Hash10",TransactionAttributeUsage[TransactionAttributeUsage.Hash11=171]="Hash11",TransactionAttributeUsage[TransactionAttributeUsage.Hash12=172]="Hash12",TransactionAttributeUsage[TransactionAttributeUsage.Hash13=173]="Hash13",TransactionAttributeUsage[TransactionAttributeUsage.Hash14=174]="Hash14",TransactionAttributeUsage[TransactionAttributeUsage.Hash15=175]="Hash15",TransactionAttributeUsage[TransactionAttributeUsage.Remark=240]="Remark",TransactionAttributeUsage[TransactionAttributeUsage.Remark1=241]="Remark1",TransactionAttributeUsage[TransactionAttributeUsage.Remark2=242]="Remark2",TransactionAttributeUsage[TransactionAttributeUsage.Remark3=243]="Remark3",TransactionAttributeUsage[TransactionAttributeUsage.Remark4=244]="Remark4",TransactionAttributeUsage[TransactionAttributeUsage.Remark5=245]="Remark5",TransactionAttributeUsage[TransactionAttributeUsage.Remark6=246]="Remark6",TransactionAttributeUsage[TransactionAttributeUsage.Remark7=247]="Remark7",TransactionAttributeUsage[TransactionAttributeUsage.Remark8=248]="Remark8",TransactionAttributeUsage[TransactionAttributeUsage.Remark9=249]="Remark9",TransactionAttributeUsage[TransactionAttributeUsage.Remark10=250]="Remark10",TransactionAttributeUsage[TransactionAttributeUsage.Remark11=251]="Remark11",TransactionAttributeUsage[TransactionAttributeUsage.Remark12=252]="Remark12",TransactionAttributeUsage[TransactionAttributeUsage.Remark13=253]="Remark13",TransactionAttributeUsage[TransactionAttributeUsage.Remark14=254]="Remark14",TransactionAttributeUsage[TransactionAttributeUsage.Remark15=255]="Remark15"}(TransactionAttributeUsage=ThinNeo.TransactionAttributeUsage||(ThinNeo.TransactionAttributeUsage={}));var Attribute=function(){function Attribute(){}return Attribute}();ThinNeo.Attribute=Attribute;var TransactionOutput=function(){function TransactionOutput(){}return TransactionOutput}();ThinNeo.TransactionOutput=TransactionOutput;var TransactionInput=function(){function TransactionInput(){}return TransactionInput}();ThinNeo.TransactionInput=TransactionInput;var Witness=function(){function Witness(){}return Object.defineProperty(Witness.prototype,"Address",{get:function(){var hash=ThinNeo.Helper.GetScriptHashFromScript(this.VerificationScript);return ThinNeo.Helper.GetAddressFromScriptHash(hash)},enumerable:!0,configurable:!0}),Witness}();ThinNeo.Witness=Witness;var InvokeTransData=function(){function InvokeTransData(){}return InvokeTransData.prototype.Serialize=function(trans,writer){writer.writeVarBytes(this.script.buffer),trans.version>=1&&writer.writeUint64(this.gas.getData())},InvokeTransData.prototype.Deserialize=function(trans,reader){var buf=reader.readVarBytes(1e7);this.script=new Uint8Array(buf,0,buf.byteLength),trans.version>=1&&(this.gas=new Neo.Fixed8(reader.readUint64()))},InvokeTransData}();ThinNeo.InvokeTransData=InvokeTransData;var ClaimTransData=function(){function ClaimTransData(){}return ClaimTransData.prototype.Serialize=function(trans,writer){writer.writeVarInt(this.claims.length);for(var i=0;i<this.claims.length;i++)writer.write(this.claims[i].hash,0,32),writer.writeUint16(this.claims[i].index)},ClaimTransData.prototype.Deserialize=function(trans,reader){var countClaims=reader.readVarInt();this.claims=[];for(var i=0;i<countClaims;i++){this.claims.push(new TransactionInput);var arr=reader.readBytes(32);this.claims[i].hash=new Uint8Array(arr,0,arr.byteLength),this.claims[i].index=reader.readUint16()}},ClaimTransData}();ThinNeo.ClaimTransData=ClaimTransData;var MinerTransData=function(){function MinerTransData(){}return MinerTransData.prototype.Serialize=function(trans,writer){writer.writeUint32(this.nonce)},MinerTransData.prototype.Deserialize=function(trans,reader){this.nonce=reader.readUint32()},MinerTransData}();ThinNeo.MinerTransData=MinerTransData;var Transaction=function(){function Transaction(){}return Transaction.prototype.SerializeUnsigned=function(writer){if(writer.writeByte(this.type),writer.writeByte(this.version),this.type==TransactionType.ContractTransaction||this.type==TransactionType.IssueTransaction);else if(this.type==TransactionType.InvocationTransaction)this.extdata.Serialize(this,writer);else if(this.type==TransactionType.ClaimTransaction)this.extdata.Serialize(this,writer);else{if(this.type!=TransactionType.MinerTransaction)throw new Error("");this.extdata.Serialize(this,writer)}var countAttributes=this.attributes.length;writer.writeVarInt(countAttributes);for(var i=0;i<countAttributes;i++){var attributeData=this.attributes[i].data,Usage=this.attributes[i].usage;if(writer.writeByte(Usage),Usage==TransactionAttributeUsage.ContractHash||Usage==TransactionAttributeUsage.Vote||Usage>=TransactionAttributeUsage.Hash1&&Usage<=TransactionAttributeUsage.Hash15)writer.write(attributeData.buffer,0,32);else if(Usage==TransactionAttributeUsage.ECDH02||Usage==TransactionAttributeUsage.ECDH03)writer.write(attributeData.buffer,1,32);else if(Usage==TransactionAttributeUsage.Script)writer.write(attributeData.buffer,0,20);else if(Usage==TransactionAttributeUsage.DescriptionUrl){var len=attributeData.length;writer.writeByte(len),writer.write(attributeData.buffer,0,len)}else{if(!(Usage==TransactionAttributeUsage.Description||Usage>=TransactionAttributeUsage.Remark))throw new Error;var len=attributeData.length;writer.writeVarInt(len),writer.write(attributeData.buffer,0,len)}}var countInputs=this.inputs.length;writer.writeVarInt(countInputs);for(var i=0;i<countInputs;i++)writer.write(this.inputs[i].hash,0,32),writer.writeUint16(this.inputs[i].index);var countOutputs=this.outputs.length;writer.writeVarInt(countOutputs);for(var i=0;i<countOutputs;i++){var item=this.outputs[i];writer.write(item.assetId.buffer,0,32),writer.writeUint64(item.value.getData()),writer.write(item.toAddress.buffer,0,20)}},Transaction.prototype.Serialize=function(writer){this.SerializeUnsigned(writer);var witnesscount=this.witnesses.length;writer.writeVarInt(witnesscount);for(var i=0;i<witnesscount;i++){var _witness=this.witnesses[i];writer.writeVarBytes(_witness.InvocationScript.buffer),writer.writeVarBytes(_witness.VerificationScript.buffer)}},Transaction.prototype.DeserializeUnsigned=function(ms){if(this.type=ms.readByte(),this.version=ms.readByte(),this.type==TransactionType.ContractTransaction||this.type==TransactionType.IssueTransaction)this.extdata=null;else if(this.type==TransactionType.InvocationTransaction)this.extdata=new InvokeTransData;else if(this.type==TransactionType.ClaimTransaction)this.extdata=new ClaimTransData;else{if(this.type!=TransactionType.MinerTransaction)throw new Error("");this.extdata=new MinerTransData}null!=this.extdata&&this.extdata.Deserialize(this,ms);var countAttributes=ms.readVarInt();this.attributes=[];for(var i=0;i<countAttributes;i++){var attributeData=null,Usage=ms.readByte();if(Usage==TransactionAttributeUsage.ContractHash||Usage==TransactionAttributeUsage.Vote||Usage>=TransactionAttributeUsage.Hash1&&Usage<=TransactionAttributeUsage.Hash15){var arr=ms.readBytes(32);attributeData=new Uint8Array(arr,0,arr.byteLength)}else if(Usage==TransactionAttributeUsage.ECDH02||Usage==TransactionAttributeUsage.ECDH03){var arr=ms.readBytes(32),data=new Uint8Array(arr,0,arr.byteLength);(attributeData=new Uint8Array(33))[0]=Usage;for(var i=0;i<32;i++)attributeData[i+1]=data[i]}else if(Usage==TransactionAttributeUsage.Script){var arr=ms.readBytes(20);attributeData=new Uint8Array(arr,0,arr.byteLength)}else if(Usage==TransactionAttributeUsage.DescriptionUrl){var len=ms.readByte(),arr=ms.readBytes(len);attributeData=new Uint8Array(arr,0,arr.byteLength)}else{if(!(Usage==TransactionAttributeUsage.Description||Usage>=TransactionAttributeUsage.Remark))throw new Error;var len=ms.readVarInt(65535),arr=ms.readBytes(len);attributeData=new Uint8Array(arr,0,arr.byteLength)}var attr=new Attribute;attr.usage=Usage,attr.data=attributeData,this.attributes.push(attr)}var countInputs=ms.readVarInt();this.inputs=[];for(var i=0;i<countInputs;i++){this.inputs.push(new TransactionInput);var arr=ms.readBytes(32);this.inputs[i].hash=new Uint8Array(arr,0,arr.byteLength),this.inputs[i].index=ms.readUint16()}var countOutputs=ms.readVarInt();this.outputs=[];for(var i=0;i<countOutputs;i++){this.outputs.push(new TransactionOutput);var outp=this.outputs[i],arr=ms.readBytes(32),assetid=new Uint8Array(arr,0,arr.byteLength),value=new Neo.Fixed8(ms.readUint64()),arr=ms.readBytes(20),scripthash=new Uint8Array(arr,0,arr.byteLength);outp.assetId=assetid,outp.value=value,outp.toAddress=scripthash,this.outputs[i]=outp}},Transaction.prototype.Deserialize=function(ms){if(this.DeserializeUnsigned(ms),ms.canRead()>0){var witnesscount=ms.readVarInt();this.witnesses=[];for(var i=0;i<witnesscount;i++)this.witnesses.push(new Witness),this.witnesses[i].InvocationScript=new Uint8Array(ms.readVarBytes()).clone(),this.witnesses[i].VerificationScript=new Uint8Array(ms.readVarBytes()).clone()}},Transaction.prototype.GetMessage=function(){var ms=new Neo.IO.MemoryStream,writer=new Neo.IO.BinaryWriter(ms);this.SerializeUnsigned(writer);var arr=ms.toArray(),msg;return new Uint8Array(arr,0,arr.byteLength)},Transaction.prototype.GetRawData=function(){var ms=new Neo.IO.MemoryStream,writer=new Neo.IO.BinaryWriter(ms);this.Serialize(writer);var arr=ms.toArray(),msg;return new Uint8Array(arr,0,arr.byteLength)},Transaction.prototype.AddWitness=function(signdata,pubkey,addrs){var msg=this.GetMessage(),bsign,addr;if(0==ThinNeo.Helper.VerifySignature(msg,signdata,pubkey))throw new Error("wrong sign");if(ThinNeo.Helper.GetAddressFromPublicKey(pubkey)!=addrs)throw new Error("wrong script");var vscript=ThinNeo.Helper.GetAddressCheckScriptFromPublicKey(pubkey),sb=new ThinNeo.ScriptBuilder;sb.EmitPushBytes(signdata);var iscript=sb.ToArray();this.AddWitnessScript(vscript,iscript)},Transaction.prototype.AddWitnessScript=function(vscript,iscript){var scripthash=ThinNeo.Helper.GetScriptHashFromScript(vscript);null==this.witnesses&&(this.witnesses=[]);var newwit=new Witness,_witnesses;newwit.VerificationScript=vscript,newwit.InvocationScript=iscript;for(var i=0;i<this.witnesses.length;i++)if(this.witnesses[i].Address==newwit.Address)throw new Error("alread have this witness");(_witnesses=this.witnesses?this.witnesses:[]).push(newwit),_witnesses.sort(function(a,b){for(var hash_a=ThinNeo.Helper.GetScriptHashFromScript(a.VerificationScript),hash_b=ThinNeo.Helper.GetScriptHashFromScript(b.VerificationScript),i_4=hash_a.length-1;i_4>=0;i_4--){if(hash_a[i_4]>hash_b[i_4])return 1;if(hash_a[i_4]<hash_b[i_4])return-1}return 0}),this.witnesses=_witnesses},Transaction.prototype.GetHash=function(){var msg=this.GetMessage(),data=Neo.Cryptography.Sha256.computeHash(msg);return data=Neo.Cryptography.Sha256.computeHash(data),new Uint8Array(data,0,data.byteLength)},Transaction}();ThinNeo.Transaction=Transaction}(ThinNeo||(ThinNeo={})),function(ThinNeo){var OpCode;!function(OpCode){OpCode[OpCode.PUSH0=0]="PUSH0",OpCode[OpCode.PUSHF=0]="PUSHF",OpCode[OpCode.PUSHBYTES1=1]="PUSHBYTES1",OpCode[OpCode.PUSHBYTES75=75]="PUSHBYTES75",OpCode[OpCode.PUSHDATA1=76]="PUSHDATA1",OpCode[OpCode.PUSHDATA2=77]="PUSHDATA2",OpCode[OpCode.PUSHDATA4=78]="PUSHDATA4",OpCode[OpCode.PUSHM1=79]="PUSHM1",OpCode[OpCode.PUSH1=81]="PUSH1",OpCode[OpCode.PUSHT=81]="PUSHT",OpCode[OpCode.PUSH2=82]="PUSH2",OpCode[OpCode.PUSH3=83]="PUSH3",OpCode[OpCode.PUSH4=84]="PUSH4",OpCode[OpCode.PUSH5=85]="PUSH5",OpCode[OpCode.PUSH6=86]="PUSH6",OpCode[OpCode.PUSH7=87]="PUSH7",OpCode[OpCode.PUSH8=88]="PUSH8",OpCode[OpCode.PUSH9=89]="PUSH9",OpCode[OpCode.PUSH10=90]="PUSH10",OpCode[OpCode.PUSH11=91]="PUSH11",OpCode[OpCode.PUSH12=92]="PUSH12",OpCode[OpCode.PUSH13=93]="PUSH13",OpCode[OpCode.PUSH14=94]="PUSH14",OpCode[OpCode.PUSH15=95]="PUSH15",OpCode[OpCode.PUSH16=96]="PUSH16",OpCode[OpCode.NOP=97]="NOP",OpCode[OpCode.JMP=98]="JMP",OpCode[OpCode.JMPIF=99]="JMPIF",OpCode[OpCode.JMPIFNOT=100]="JMPIFNOT",OpCode[OpCode.CALL=101]="CALL",OpCode[OpCode.RET=102]="RET",OpCode[OpCode.APPCALL=103]="APPCALL",OpCode[OpCode.SYSCALL=104]="SYSCALL",OpCode[OpCode.TAILCALL=105]="TAILCALL",OpCode[OpCode.DUPFROMALTSTACK=106]="DUPFROMALTSTACK",OpCode[OpCode.TOALTSTACK=107]="TOALTSTACK",OpCode[OpCode.FROMALTSTACK=108]="FROMALTSTACK",OpCode[OpCode.XDROP=109]="XDROP",OpCode[OpCode.XSWAP=114]="XSWAP",OpCode[OpCode.XTUCK=115]="XTUCK",OpCode[OpCode.DEPTH=116]="DEPTH",OpCode[OpCode.DROP=117]="DROP",OpCode[OpCode.DUP=118]="DUP",OpCode[OpCode.NIP=119]="NIP",OpCode[OpCode.OVER=120]="OVER",OpCode[OpCode.PICK=121]="PICK",OpCode[OpCode.ROLL=122]="ROLL",OpCode[OpCode.ROT=123]="ROT",OpCode[OpCode.SWAP=124]="SWAP",OpCode[OpCode.TUCK=125]="TUCK",OpCode[OpCode.CAT=126]="CAT",OpCode[OpCode.SUBSTR=127]="SUBSTR",OpCode[OpCode.LEFT=128]="LEFT",OpCode[OpCode.RIGHT=129]="RIGHT",OpCode[OpCode.SIZE=130]="SIZE",OpCode[OpCode.INVERT=131]="INVERT",OpCode[OpCode.AND=132]="AND",OpCode[OpCode.OR=133]="OR",OpCode[OpCode.XOR=134]="XOR",OpCode[OpCode.EQUAL=135]="EQUAL",OpCode[OpCode.INC=139]="INC",OpCode[OpCode.DEC=140]="DEC",OpCode[OpCode.SIGN=141]="SIGN",OpCode[OpCode.NEGATE=143]="NEGATE",OpCode[OpCode.ABS=144]="ABS",OpCode[OpCode.NOT=145]="NOT",OpCode[OpCode.NZ=146]="NZ",OpCode[OpCode.ADD=147]="ADD",OpCode[OpCode.SUB=148]="SUB",OpCode[OpCode.MUL=149]="MUL",OpCode[OpCode.DIV=150]="DIV",OpCode[OpCode.MOD=151]="MOD",OpCode[OpCode.SHL=152]="SHL",OpCode[OpCode.SHR=153]="SHR",OpCode[OpCode.BOOLAND=154]="BOOLAND",OpCode[OpCode.BOOLOR=155]="BOOLOR",OpCode[OpCode.NUMEQUAL=156]="NUMEQUAL",OpCode[OpCode.NUMNOTEQUAL=158]="NUMNOTEQUAL",OpCode[OpCode.LT=159]="LT",OpCode[OpCode.GT=160]="GT",OpCode[OpCode.LTE=161]="LTE",OpCode[OpCode.GTE=162]="GTE",OpCode[OpCode.MIN=163]="MIN",OpCode[OpCode.MAX=164]="MAX",OpCode[OpCode.WITHIN=165]="WITHIN",OpCode[OpCode.SHA1=167]="SHA1",OpCode[OpCode.SHA256=168]="SHA256",OpCode[OpCode.HASH160=169]="HASH160",OpCode[OpCode.HASH256=170]="HASH256",OpCode[OpCode.CSHARPSTRHASH32=171]="CSHARPSTRHASH32",OpCode[OpCode.JAVAHASH32=173]="JAVAHASH32",OpCode[OpCode.CHECKSIG=172]="CHECKSIG",OpCode[OpCode.CHECKMULTISIG=174]="CHECKMULTISIG",OpCode[OpCode.ARRAYSIZE=192]="ARRAYSIZE",OpCode[OpCode.PACK=193]="PACK",OpCode[OpCode.UNPACK=194]="UNPACK",OpCode[OpCode.PICKITEM=195]="PICKITEM",OpCode[OpCode.SETITEM=196]="SETITEM",OpCode[OpCode.NEWARRAY=197]="NEWARRAY",OpCode[OpCode.NEWSTRUCT=198]="NEWSTRUCT",OpCode[OpCode.SWITCH=208]="SWITCH",OpCode[OpCode.THROW=240]="THROW",OpCode[OpCode.THROWIFNOT=241]="THROWIFNOT"}(OpCode=ThinNeo.OpCode||(ThinNeo.OpCode={}))}(ThinNeo||(ThinNeo={})),function(ThinNeo){var Compiler;!function(Compiler){var Avm2Asm=function(){function Avm2Asm(){}return Avm2Asm.Trans=function(script){for(var breader=new Compiler.ByteReader(script),arr=new Array;0==breader.End;){var o=new Compiler.Op;o.addr=breader.addr,o.code=breader.ReadOP();try{if(o.code>=ThinNeo.OpCode.PUSHBYTES1&&o.code<=ThinNeo.OpCode.PUSHBYTES75){o.paramType=Compiler.ParamType.ByteArray;var _count=o.code;o.paramData=breader.ReadBytes(_count)}else switch(o.code){case ThinNeo.OpCode.PUSH0:case ThinNeo.OpCode.PUSHM1:case ThinNeo.OpCode.PUSH1:case ThinNeo.OpCode.PUSH2:case ThinNeo.OpCode.PUSH3:case ThinNeo.OpCode.PUSH4:case ThinNeo.OpCode.PUSH5:case ThinNeo.OpCode.PUSH6:case ThinNeo.OpCode.PUSH7:case ThinNeo.OpCode.PUSH8:case ThinNeo.OpCode.PUSH9:case ThinNeo.OpCode.PUSH10:case ThinNeo.OpCode.PUSH11:case ThinNeo.OpCode.PUSH12:case ThinNeo.OpCode.PUSH13:case ThinNeo.OpCode.PUSH14:case ThinNeo.OpCode.PUSH15:case ThinNeo.OpCode.PUSH16:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.PUSHDATA1:o.paramType=Compiler.ParamType.ByteArray;var _count=breader.ReadByte();o.paramData=breader.ReadBytes(_count);break;case ThinNeo.OpCode.PUSHDATA2:o.paramType=Compiler.ParamType.ByteArray;var _count=breader.ReadUInt16();o.paramData=breader.ReadBytes(_count);break;case ThinNeo.OpCode.PUSHDATA4:o.paramType=Compiler.ParamType.ByteArray;var _count=breader.ReadInt32();o.paramData=breader.ReadBytes(_count);break;case ThinNeo.OpCode.NOP:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.JMP:case ThinNeo.OpCode.JMPIF:case ThinNeo.OpCode.JMPIFNOT:case ThinNeo.OpCode.CALL:o.paramType=Compiler.ParamType.Addr,o.paramData=breader.ReadBytes(2);break;case ThinNeo.OpCode.RET:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.APPCALL:case ThinNeo.OpCode.TAILCALL:o.paramType=Compiler.ParamType.ByteArray,o.paramData=breader.ReadBytes(20);break;case ThinNeo.OpCode.SYSCALL:o.paramType=Compiler.ParamType.String,o.paramData=breader.ReadVarBytes();break;case ThinNeo.OpCode.DUPFROMALTSTACK:case ThinNeo.OpCode.TOALTSTACK:case ThinNeo.OpCode.FROMALTSTACK:case ThinNeo.OpCode.XDROP:case ThinNeo.OpCode.XSWAP:case ThinNeo.OpCode.XTUCK:case ThinNeo.OpCode.DEPTH:case ThinNeo.OpCode.DROP:case ThinNeo.OpCode.DUP:case ThinNeo.OpCode.NIP:case ThinNeo.OpCode.OVER:case ThinNeo.OpCode.PICK:case ThinNeo.OpCode.ROLL:case ThinNeo.OpCode.ROT:case ThinNeo.OpCode.SWAP:case ThinNeo.OpCode.TUCK:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.CAT:case ThinNeo.OpCode.SUBSTR:case ThinNeo.OpCode.LEFT:case ThinNeo.OpCode.RIGHT:case ThinNeo.OpCode.SIZE:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.INVERT:case ThinNeo.OpCode.AND:case ThinNeo.OpCode.OR:case ThinNeo.OpCode.XOR:case ThinNeo.OpCode.EQUAL:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.INC:case ThinNeo.OpCode.DEC:case ThinNeo.OpCode.SIGN:case ThinNeo.OpCode.NEGATE:case ThinNeo.OpCode.ABS:case ThinNeo.OpCode.NOT:case ThinNeo.OpCode.NZ:case ThinNeo.OpCode.ADD:case ThinNeo.OpCode.SUB:case ThinNeo.OpCode.MUL:case ThinNeo.OpCode.DIV:case ThinNeo.OpCode.MOD:case ThinNeo.OpCode.SHL:case ThinNeo.OpCode.SHR:case ThinNeo.OpCode.BOOLAND:case ThinNeo.OpCode.BOOLOR:case ThinNeo.OpCode.NUMEQUAL:case ThinNeo.OpCode.NUMNOTEQUAL:case ThinNeo.OpCode.LT:case ThinNeo.OpCode.GT:case ThinNeo.OpCode.LTE:case ThinNeo.OpCode.GTE:case ThinNeo.OpCode.MIN:case ThinNeo.OpCode.MAX:case ThinNeo.OpCode.WITHIN:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.SHA1:case ThinNeo.OpCode.SHA256:case ThinNeo.OpCode.HASH160:case ThinNeo.OpCode.HASH256:case ThinNeo.OpCode.CSHARPSTRHASH32:case ThinNeo.OpCode.JAVAHASH32:case ThinNeo.OpCode.CHECKSIG:case ThinNeo.OpCode.CHECKMULTISIG:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.ARRAYSIZE:case ThinNeo.OpCode.PACK:case ThinNeo.OpCode.UNPACK:case ThinNeo.OpCode.PICKITEM:case ThinNeo.OpCode.SETITEM:case ThinNeo.OpCode.NEWARRAY:case ThinNeo.OpCode.NEWSTRUCT:o.paramType=Compiler.ParamType.None;break;case ThinNeo.OpCode.THROW:case ThinNeo.OpCode.THROWIFNOT:o.paramType=Compiler.ParamType.None;break;default:throw new Error("you fogot a type:"+o.code)}}catch(_a){o.error=!0}if(arr.push(o),o.error)break}return arr},Avm2Asm}();Compiler.Avm2Asm=Avm2Asm}(Compiler=ThinNeo.Compiler||(ThinNeo.Compiler={}))}(ThinNeo||(ThinNeo={})),function(ThinNeo){var Compiler;!function(Compiler){var ByteReader=function(){function ByteReader(data){this.addr=0,this.data=data}return ByteReader.prototype.ReadOP=function(){var op=this.data[this.addr];return this.addr++,op},ByteReader.prototype.ReadBytes=function(count){for(var _data=new Uint8Array(count),i=0;i<count;i++)_data[i]=this.data[this.addr+i];return this.addr+=count,_data},ByteReader.prototype.ReadByte=function(){var b=this.data[this.addr];return this.addr++,b},ByteReader.prototype.ReadUInt16=function(){var d,u16=new DataView(this.data.buffer).getUint16(this.addr,!0);return this.addr+=2,u16},ByteReader.prototype.ReadInt16=function(){var d,u16=new DataView(this.data.buffer).getInt16(this.addr,!0);return this.addr+=2,u16},ByteReader.prototype.ReadUInt32=function(){var d,u16=new DataView(this.data.buffer).getUint32(this.addr,!0);return this.addr+=4,u16},ByteReader.prototype.ReadInt32=function(){var d,u16=new DataView(this.data.buffer).getInt32(this.addr,!0);return this.addr+=4,u16},ByteReader.prototype.ReadUInt64=function(){var u1=this.ReadUInt32(),u2;return 4294967296*this.ReadUInt32()+u1},ByteReader.prototype.ReadVarBytes=function(){var count=this.ReadVarInt();return this.ReadBytes(count)},ByteReader.prototype.ReadVarInt=function(){var fb=this.ReadByte(),value;return value=253==fb?this.ReadUInt16():254==fb?this.ReadUInt32():255==fb?this.ReadUInt64():fb},Object.defineProperty(ByteReader.prototype,"End",{get:function(){return this.addr>=this.data.length},enumerable:!0,configurable:!0}),ByteReader}();Compiler.ByteReader=ByteReader}(Compiler=ThinNeo.Compiler||(ThinNeo.Compiler={}))}(ThinNeo||(ThinNeo={})),function(ThinNeo){var Compiler;!function(Compiler){var ParamType;!function(ParamType){ParamType[ParamType.None=0]="None",ParamType[ParamType.ByteArray=1]="ByteArray",ParamType[ParamType.String=2]="String",ParamType[ParamType.Addr=3]="Addr"}(ParamType=Compiler.ParamType||(Compiler.ParamType={}));var Op=function(){function Op(){}return Op.prototype.toString=function(){var name=this.getCodeName();return this.paramType==ParamType.None||(this.paramType==ParamType.ByteArray?name+="["+this.AsHexString()+"]":this.paramType==ParamType.String?name+="["+this.AsString()+"]":this.paramType==ParamType.Addr&&(name+="["+this.AsAddr()+"]")),this.addr.toString(16)+":"+name},Op.prototype.AsHexString=function(){for(var str="0x",i=0;i<this.paramData.length;i++){var s=this.paramData[i].toString(16);s.length%2==1&&(s="0"+s),str+=s}return str},Op.prototype.AsString=function(){for(var str="",i=0;i<this.paramData.length;i++)str+=this.paramData[i].toLocaleString();return str},Op.prototype.AsAddr=function(){var dview;return new DataView(this.paramData.buffer).getInt16(0,!0)},Op.prototype.getCodeName=function(){var name="";return this.error&&(name="[E]"),this.code==ThinNeo.OpCode.PUSHT?"PUSH1(true)":this.code==ThinNeo.OpCode.PUSHF?"PUSH0(false)":this.code>ThinNeo.OpCode.PUSHBYTES1&&this.code<ThinNeo.OpCode.PUSHBYTES75?name+"PUSHBYTES"+(this.code-ThinNeo.OpCode.PUSHBYTES1+1):name+ThinNeo.OpCode[this.code].toString()},Op}();Compiler.Op=Op}(Compiler=ThinNeo.Compiler||(ThinNeo.Compiler={}))}(ThinNeo||(ThinNeo={}));